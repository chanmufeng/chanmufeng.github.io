<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.49" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://www.chanmufeng.com/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html"><meta property="og:site_name" content="è‰æ²é£"><meta property="og:title" content="MySQLé”ï¼Œé”çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ"><meta property="og:description" content="MySQLé”æ˜¯è§£å†³èµ„æºç«äº‰çš„ä¸€ç§æ–¹æ¡ˆã€‚çŸ­çŸ­ä¸€å¥è¯å´åŒ…å«äº†3ç‚¹å€¼å¾—æˆ‘ä»¬æ³¨æ„çš„äº‹æƒ…ï¼š1.å¯¹ä»€ä¹ˆèµ„æºè¿›è¡Œç«äº‰ï¼Ÿ2.ç«äº‰çš„æ–¹å¼ï¼ˆæˆ–è€…è¯´æƒ…å½¢ï¼‰æœ‰å“ªäº›ï¼Ÿ3.é”æ˜¯å¦‚ä½•è§£å†³ç«äº‰çš„ï¼Ÿè¿™ç¯‡æ–‡ç« å¼€å§‹å¸¦ä½ å¾ªåºæ¸è¿›åœ°ç†è§£è¿™å‡ ä¸ªé—®é¢˜ã€‚"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-12-26T14:03:21.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="MySQL"><meta property="article:tag" content="é”"><meta property="article:published_time" content="2022-12-02T00:00:00.000Z"><meta property="article:modified_time" content="2022-12-26T14:03:21.000Z"><script>
                var _hmt = _hmt || [];
                (function() {
                  var hm = document.createElement("script");
                  hm.src = "https://hm.baidu.com/hm.js?dfa689801ccd10bd283b50ea146430f3";
                  var s = document.getElementsByTagName("script")[0]; 
                  s.parentNode.insertBefore(hm, s);
                })();
            </script><title>MySQLé”ï¼Œé”çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ | è‰æ²é£</title><meta name="description" content="MySQLé”æ˜¯è§£å†³èµ„æºç«äº‰çš„ä¸€ç§æ–¹æ¡ˆã€‚çŸ­çŸ­ä¸€å¥è¯å´åŒ…å«äº†3ç‚¹å€¼å¾—æˆ‘ä»¬æ³¨æ„çš„äº‹æƒ…ï¼š1.å¯¹ä»€ä¹ˆèµ„æºè¿›è¡Œç«äº‰ï¼Ÿ2.ç«äº‰çš„æ–¹å¼ï¼ˆæˆ–è€…è¯´æƒ…å½¢ï¼‰æœ‰å“ªäº›ï¼Ÿ3.é”æ˜¯å¦‚ä½•è§£å†³ç«äº‰çš„ï¼Ÿè¿™ç¯‡æ–‡ç« å¼€å§‹å¸¦ä½ å¾ªåºæ¸è¿›åœ°ç†è§£è¿™å‡ ä¸ªé—®é¢˜ã€‚">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.ef97199c.css">
    <link rel="modulepreload" href="/assets/app.9190407f.js"><link rel="modulepreload" href="/assets/MySQLé”å¼€ç¯‡.html.d241420c.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/MySQLé”å¼€ç¯‡.html.36ef8a4c.js"><link rel="prefetch" href="/assets/index.html.f40aab20.js"><link rel="prefetch" href="/assets/home.html.4311fb4f.js"><link rel="prefetch" href="/assets/update.html.839573b9.js"><link rel="prefetch" href="/assets/index.html.bc679553.js"><link rel="prefetch" href="/assets/index.html.42b16337.js"><link rel="prefetch" href="/assets/disable.html.a298796c.js"><link rel="prefetch" href="/assets/encrypt.html.04234872.js"><link rel="prefetch" href="/assets/markdown.html.c40cf8e1.js"><link rel="prefetch" href="/assets/JVMåˆ°åº•è¯¥å­¦ä¹ äº›ä»€ä¹ˆ.html.37a1cd31.js"><link rel="prefetch" href="/assets/index.html.bdb8aaf2.js"><link rel="prefetch" href="/assets/æˆ‘æ˜¯ä¸€ä¸ªåƒåœ¾.html.396cd500.js"><link rel="prefetch" href="/assets/CPUæµæ°´çº¿ä¸æŒ‡ä»¤é‡æ’åº.html.da7853a1.js"><link rel="prefetch" href="/assets/index.html.9cfc822d.js"><link rel="prefetch" href="/assets/ç”¨ã€Œé—ªç”µä¾ ã€è§£é‡Šä¸€ä¸‹è¿›ç¨‹å’Œçº¿ç¨‹.html.9c93b056.js"><link rel="prefetch" href="/assets/ç¼“å­˜ä¸€è‡´æ€§ä¸å†…å­˜å±éšœ.html.51552874.js"><link rel="prefetch" href="/assets/index.html.67e2e3d9.js"><link rel="prefetch" href="/assets/network-programming.html.287d3b4f.js"><link rel="prefetch" href="/assets/index.html.0a6236b7.js"><link rel="prefetch" href="/assets/ä»€ä¹ˆæ˜¯æ–‡ä»¶æè¿°ç¬¦.html.804cd066.js"><link rel="prefetch" href="/assets/index.html.1f5ae493.js"><link rel="prefetch" href="/assets/åŠ¨æ€ä»£ç†æ¨¡å¼.html.90a17679.js"><link rel="prefetch" href="/assets/å•ä¾‹æ¨¡å¼.html.c3742e12.js"><link rel="prefetch" href="/assets/å·¥å‚æ¨¡å¼.html.f8c7f9d6.js"><link rel="prefetch" href="/assets/é™æ€ä»£ç†æ¨¡å¼.html.7bbcf6f5.js"><link rel="prefetch" href="/assets/ä¾èµ–å€’ç½®åŸåˆ™.html.56bde280.js"><link rel="prefetch" href="/assets/å¼€é—­åŸåˆ™.html.d45ce1b8.js"><link rel="prefetch" href="/assets/Googleæœç´¢ä¸ºä»€ä¹ˆä¸èƒ½æ— é™åˆ†é¡µï¼Ÿ.html.5b88d232.js"><link rel="prefetch" href="/assets/index.html.abd3d401.js"><link rel="prefetch" href="/assets/m1èŠ¯ç‰‡ç”µè„‘å®‰è£…cerebro.html.0120f768.js"><link rel="prefetch" href="/assets/MySQLä¸Redisçš„æ•°æ®ä¸€è‡´æ€§.html.5ba6736f.js"><link rel="prefetch" href="/assets/MySQLä¼˜åŒ–çš„5ä¸ªç»´åº¦.html.4362df81.js"><link rel="prefetch" href="/assets/MySQLç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿.html.d51dd9cb.js"><link rel="prefetch" href="/assets/index.html.d1d4b825.js"><link rel="prefetch" href="/assets/ä¸€æ¡SELECTè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„.html.2ace0b89.js"><link rel="prefetch" href="/assets/ä¸€æ¡Updateè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„.html.8736dea8.js"><link rel="prefetch" href="/assets/ä¸ºä»€ä¹ˆMySQLçš„ä¸»é”®æŸ¥è¯¢è¿™ä¹ˆå¿«.html.69305ec3.js"><link rel="prefetch" href="/assets/ä¸ºä»€ä¹ˆä¸å»ºè®®ä½ ä½¿ç”¨SELECT_.html.ee5e1bb5.js"><link rel="prefetch" href="/assets/äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC.html.a4ad4ac5.js"><link rel="prefetch" href="/assets/ä»æ ¹å„¿ä¸Šç†è§£ç´¢å¼•.html.c7e89f33.js"><link rel="prefetch" href="/assets/BIOä¸éé˜»å¡IO.html.56cc747b.js"><link rel="prefetch" href="/assets/index.html.d1211743.js"><link rel="prefetch" href="/assets/RedisæŒä¹…åŒ–â€”â€”AOF.html.3ef66ec5.js"><link rel="prefetch" href="/assets/RedisæŒä¹…åŒ–â€”â€”RDB.html.956f2216.js"><link rel="prefetch" href="/assets/åŒæ­¥å¼‚æ­¥ä¸é˜»å¡éé˜»å¡.html.cef3437e.js"><link rel="prefetch" href="/assets/å½»åº•ææ‡‚IOå¤šè·¯å¤ç”¨.html.7ec25f7a.js"><link rel="prefetch" href="/assets/é¸¡è‚‹çš„Redisäº‹åŠ¡.html.bf1172f2.js"><link rel="prefetch" href="/assets/index.html.ccdcd4de.js"><link rel="prefetch" href="/assets/ä»0åˆ°1ç¼–å†™ä¸€æ¬¾æ’ä»¶.html.5f51ccf3.js"><link rel="prefetch" href="/assets/index.html.14c31047.js"><link rel="prefetch" href="/assets/åç«¯å¼€å‘è€…çš„M1ç‰ˆMacå¼€å‘ç¯å¢ƒæ­å»º.html.aead2f64.js"><link rel="prefetch" href="/assets/index.html.530ae07a.js"><link rel="prefetch" href="/assets/å¦‚ä½•åŒæ­¥é…ç½®.html.21989554.js"><link rel="prefetch" href="/assets/404.html.4285bac5.js"><link rel="prefetch" href="/assets/index.html.6717b2b6.js"><link rel="prefetch" href="/assets/index.html.5eae9e3f.js"><link rel="prefetch" href="/assets/index.html.85231e1c.js"><link rel="prefetch" href="/assets/index.html.07ef0efd.js"><link rel="prefetch" href="/assets/index.html.e5d6f701.js"><link rel="prefetch" href="/assets/index.html.accaa64c.js"><link rel="prefetch" href="/assets/index.html.9a9f30d6.js"><link rel="prefetch" href="/assets/index.html.68e6d714.js"><link rel="prefetch" href="/assets/index.html.b032f382.js"><link rel="prefetch" href="/assets/index.html.bc540566.js"><link rel="prefetch" href="/assets/index.html.4fa328ce.js"><link rel="prefetch" href="/assets/index.html.2c9f8626.js"><link rel="prefetch" href="/assets/index.html.6c184523.js"><link rel="prefetch" href="/assets/index.html.2309c271.js"><link rel="prefetch" href="/assets/index.html.94d1334e.js"><link rel="prefetch" href="/assets/index.html.3e9b5a53.js"><link rel="prefetch" href="/assets/index.html.da976a01.js"><link rel="prefetch" href="/assets/index.html.843e0dc5.js"><link rel="prefetch" href="/assets/index.html.e6adfc22.js"><link rel="prefetch" href="/assets/index.html.a46272a6.js"><link rel="prefetch" href="/assets/index.html.e68eec84.js"><link rel="prefetch" href="/assets/index.html.c3c92e66.js"><link rel="prefetch" href="/assets/index.html.a1ffa21c.js"><link rel="prefetch" href="/assets/index.html.5c810edd.js"><link rel="prefetch" href="/assets/index.html.7b661157.js"><link rel="prefetch" href="/assets/index.html.a61ab275.js"><link rel="prefetch" href="/assets/index.html.cd04393b.js"><link rel="prefetch" href="/assets/index.html.6ea94130.js"><link rel="prefetch" href="/assets/index.html.938c47df.js"><link rel="prefetch" href="/assets/index.html.b6e53603.js"><link rel="prefetch" href="/assets/index.html.abfe5d6e.js"><link rel="prefetch" href="/assets/index.html.799762a8.js"><link rel="prefetch" href="/assets/index.html.6a1f2c2a.js"><link rel="prefetch" href="/assets/index.html.91d708f1.js"><link rel="prefetch" href="/assets/index.html.2b208795.js"><link rel="prefetch" href="/assets/index.html.970ad9a6.js"><link rel="prefetch" href="/assets/index.html.18750c91.js"><link rel="prefetch" href="/assets/index.html.5832ab43.js"><link rel="prefetch" href="/assets/index.html.46963a2e.js"><link rel="prefetch" href="/assets/index.html.d8d0f261.js"><link rel="prefetch" href="/assets/index.html.656424fd.js"><link rel="prefetch" href="/assets/index.html.740f6c3e.js"><link rel="prefetch" href="/assets/index.html.75361b30.js"><link rel="prefetch" href="/assets/index.html.77d7aba9.js"><link rel="prefetch" href="/assets/index.html.c6475c4b.js"><link rel="prefetch" href="/assets/index.html.4f4df111.js"><link rel="prefetch" href="/assets/index.html.2ef7b821.js"><link rel="prefetch" href="/assets/index.html.0dc0a64e.js"><link rel="prefetch" href="/assets/index.html.8bde1faf.js"><link rel="prefetch" href="/assets/index.html.a8e5dab4.js"><link rel="prefetch" href="/assets/index.html.8dbe4bd2.js"><link rel="prefetch" href="/assets/index.html.72d090a7.js"><link rel="prefetch" href="/assets/index.html.f0f01938.js"><link rel="prefetch" href="/assets/index.html.899ba14c.js"><link rel="prefetch" href="/assets/index.html.1aac5a85.js"><link rel="prefetch" href="/assets/index.html.00e1e5ed.js"><link rel="prefetch" href="/assets/index.html.79aed47e.js"><link rel="prefetch" href="/assets/index.html.d40b22a3.js"><link rel="prefetch" href="/assets/index.html.8a67630a.js"><link rel="prefetch" href="/assets/index.html.2c357d93.js"><link rel="prefetch" href="/assets/index.html.1176370d.js"><link rel="prefetch" href="/assets/index.html.363a85f2.js"><link rel="prefetch" href="/assets/index.html.50661535.js"><link rel="prefetch" href="/assets/index.html.47d81d31.js"><link rel="prefetch" href="/assets/index.html.3f91cdc4.js"><link rel="prefetch" href="/assets/index.html.3bf9cde9.js"><link rel="prefetch" href="/assets/index.html.0ce44939.js"><link rel="prefetch" href="/assets/home.html.81f8b076.js"><link rel="prefetch" href="/assets/update.html.e36341eb.js"><link rel="prefetch" href="/assets/index.html.256c31c7.js"><link rel="prefetch" href="/assets/index.html.1ac46b8e.js"><link rel="prefetch" href="/assets/disable.html.80fab185.js"><link rel="prefetch" href="/assets/encrypt.html.631f2a63.js"><link rel="prefetch" href="/assets/markdown.html.c3bc3e79.js"><link rel="prefetch" href="/assets/JVMåˆ°åº•è¯¥å­¦ä¹ äº›ä»€ä¹ˆ.html.1f83aa85.js"><link rel="prefetch" href="/assets/index.html.c0e8a923.js"><link rel="prefetch" href="/assets/æˆ‘æ˜¯ä¸€ä¸ªåƒåœ¾.html.10d938b9.js"><link rel="prefetch" href="/assets/CPUæµæ°´çº¿ä¸æŒ‡ä»¤é‡æ’åº.html.ef90ce1f.js"><link rel="prefetch" href="/assets/index.html.6ba3be59.js"><link rel="prefetch" href="/assets/ç”¨ã€Œé—ªç”µä¾ ã€è§£é‡Šä¸€ä¸‹è¿›ç¨‹å’Œçº¿ç¨‹.html.9bbbc717.js"><link rel="prefetch" href="/assets/ç¼“å­˜ä¸€è‡´æ€§ä¸å†…å­˜å±éšœ.html.a8ee0075.js"><link rel="prefetch" href="/assets/index.html.2cc18c00.js"><link rel="prefetch" href="/assets/network-programming.html.89c6b296.js"><link rel="prefetch" href="/assets/index.html.eb9248ce.js"><link rel="prefetch" href="/assets/ä»€ä¹ˆæ˜¯æ–‡ä»¶æè¿°ç¬¦.html.3ae5ad0f.js"><link rel="prefetch" href="/assets/index.html.79459de6.js"><link rel="prefetch" href="/assets/åŠ¨æ€ä»£ç†æ¨¡å¼.html.3a311b86.js"><link rel="prefetch" href="/assets/å•ä¾‹æ¨¡å¼.html.e9bf5983.js"><link rel="prefetch" href="/assets/å·¥å‚æ¨¡å¼.html.e9d40647.js"><link rel="prefetch" href="/assets/é™æ€ä»£ç†æ¨¡å¼.html.26d070a1.js"><link rel="prefetch" href="/assets/ä¾èµ–å€’ç½®åŸåˆ™.html.b8829b0b.js"><link rel="prefetch" href="/assets/å¼€é—­åŸåˆ™.html.404c7ed4.js"><link rel="prefetch" href="/assets/Googleæœç´¢ä¸ºä»€ä¹ˆä¸èƒ½æ— é™åˆ†é¡µï¼Ÿ.html.c3a5ac15.js"><link rel="prefetch" href="/assets/index.html.b6a67d68.js"><link rel="prefetch" href="/assets/m1èŠ¯ç‰‡ç”µè„‘å®‰è£…cerebro.html.34370d9f.js"><link rel="prefetch" href="/assets/MySQLä¸Redisçš„æ•°æ®ä¸€è‡´æ€§.html.cc39cacc.js"><link rel="prefetch" href="/assets/MySQLä¼˜åŒ–çš„5ä¸ªç»´åº¦.html.81bd79ed.js"><link rel="prefetch" href="/assets/MySQLç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿.html.cbdd5db9.js"><link rel="prefetch" href="/assets/index.html.48e7514a.js"><link rel="prefetch" href="/assets/ä¸€æ¡SELECTè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„.html.89585dbb.js"><link rel="prefetch" href="/assets/ä¸€æ¡Updateè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„.html.279648c1.js"><link rel="prefetch" href="/assets/ä¸ºä»€ä¹ˆMySQLçš„ä¸»é”®æŸ¥è¯¢è¿™ä¹ˆå¿«.html.5d343d5d.js"><link rel="prefetch" href="/assets/ä¸ºä»€ä¹ˆä¸å»ºè®®ä½ ä½¿ç”¨SELECT_.html.1068cc21.js"><link rel="prefetch" href="/assets/äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC.html.33903128.js"><link rel="prefetch" href="/assets/ä»æ ¹å„¿ä¸Šç†è§£ç´¢å¼•.html.7d8b282f.js"><link rel="prefetch" href="/assets/BIOä¸éé˜»å¡IO.html.defc4ec1.js"><link rel="prefetch" href="/assets/index.html.939ca0ad.js"><link rel="prefetch" href="/assets/RedisæŒä¹…åŒ–â€”â€”AOF.html.999b1c0f.js"><link rel="prefetch" href="/assets/RedisæŒä¹…åŒ–â€”â€”RDB.html.22abfcdb.js"><link rel="prefetch" href="/assets/åŒæ­¥å¼‚æ­¥ä¸é˜»å¡éé˜»å¡.html.d30de941.js"><link rel="prefetch" href="/assets/å½»åº•ææ‡‚IOå¤šè·¯å¤ç”¨.html.6f0ed56f.js"><link rel="prefetch" href="/assets/é¸¡è‚‹çš„Redisäº‹åŠ¡.html.bb18fc37.js"><link rel="prefetch" href="/assets/index.html.0569a749.js"><link rel="prefetch" href="/assets/ä»0åˆ°1ç¼–å†™ä¸€æ¬¾æ’ä»¶.html.7e5c0536.js"><link rel="prefetch" href="/assets/index.html.b632bb31.js"><link rel="prefetch" href="/assets/åç«¯å¼€å‘è€…çš„M1ç‰ˆMacå¼€å‘ç¯å¢ƒæ­å»º.html.c277b1bf.js"><link rel="prefetch" href="/assets/index.html.7d0157e4.js"><link rel="prefetch" href="/assets/å¦‚ä½•åŒæ­¥é…ç½®.html.fb5ca1a1.js"><link rel="prefetch" href="/assets/404.html.526d29d4.js"><link rel="prefetch" href="/assets/index.html.dc0c8848.js"><link rel="prefetch" href="/assets/index.html.97d9e322.js"><link rel="prefetch" href="/assets/index.html.bd1ca6ac.js"><link rel="prefetch" href="/assets/index.html.7fc97175.js"><link rel="prefetch" href="/assets/index.html.f7af913e.js"><link rel="prefetch" href="/assets/index.html.9df51004.js"><link rel="prefetch" href="/assets/index.html.da07297b.js"><link rel="prefetch" href="/assets/index.html.1e3b06da.js"><link rel="prefetch" href="/assets/index.html.2552352b.js"><link rel="prefetch" href="/assets/index.html.e3069e4f.js"><link rel="prefetch" href="/assets/index.html.cff89399.js"><link rel="prefetch" href="/assets/index.html.ea87d2b1.js"><link rel="prefetch" href="/assets/index.html.7c750e6a.js"><link rel="prefetch" href="/assets/index.html.df341824.js"><link rel="prefetch" href="/assets/index.html.d2ce0e2b.js"><link rel="prefetch" href="/assets/index.html.9a404235.js"><link rel="prefetch" href="/assets/index.html.10d375e6.js"><link rel="prefetch" href="/assets/index.html.bf22e8fd.js"><link rel="prefetch" href="/assets/index.html.c11d7a15.js"><link rel="prefetch" href="/assets/index.html.7ab1e437.js"><link rel="prefetch" href="/assets/index.html.ad9a07e3.js"><link rel="prefetch" href="/assets/index.html.63fe3600.js"><link rel="prefetch" href="/assets/index.html.60ab5b97.js"><link rel="prefetch" href="/assets/index.html.aa406abd.js"><link rel="prefetch" href="/assets/index.html.32a2c5f1.js"><link rel="prefetch" href="/assets/index.html.aa54d02f.js"><link rel="prefetch" href="/assets/index.html.8cb4d539.js"><link rel="prefetch" href="/assets/index.html.4739fc37.js"><link rel="prefetch" href="/assets/index.html.6426a9ef.js"><link rel="prefetch" href="/assets/index.html.1782e4fd.js"><link rel="prefetch" href="/assets/index.html.0a787307.js"><link rel="prefetch" href="/assets/index.html.c2d5e129.js"><link rel="prefetch" href="/assets/index.html.7f5d326b.js"><link rel="prefetch" href="/assets/index.html.191face2.js"><link rel="prefetch" href="/assets/index.html.be4e0847.js"><link rel="prefetch" href="/assets/index.html.991d572b.js"><link rel="prefetch" href="/assets/index.html.e839933e.js"><link rel="prefetch" href="/assets/index.html.959bce38.js"><link rel="prefetch" href="/assets/index.html.c39f7e1b.js"><link rel="prefetch" href="/assets/index.html.256d482b.js"><link rel="prefetch" href="/assets/index.html.7c70862c.js"><link rel="prefetch" href="/assets/index.html.dc6a0f8c.js"><link rel="prefetch" href="/assets/index.html.65714efa.js"><link rel="prefetch" href="/assets/index.html.c0e088a6.js"><link rel="prefetch" href="/assets/index.html.5e53d024.js"><link rel="prefetch" href="/assets/index.html.f260570b.js"><link rel="prefetch" href="/assets/index.html.3f800790.js"><link rel="prefetch" href="/assets/index.html.262a6265.js"><link rel="prefetch" href="/assets/index.html.4659346c.js"><link rel="prefetch" href="/assets/index.html.d62e37af.js"><link rel="prefetch" href="/assets/index.html.593f2321.js"><link rel="prefetch" href="/assets/index.html.83b9cc5c.js"><link rel="prefetch" href="/assets/index.html.4efe7c18.js"><link rel="prefetch" href="/assets/index.html.7ad3600f.js"><link rel="prefetch" href="/assets/index.html.f9098ae2.js"><link rel="prefetch" href="/assets/index.html.2f23d88d.js"><link rel="prefetch" href="/assets/index.html.68af11d2.js"><link rel="prefetch" href="/assets/index.html.c6cd2830.js"><link rel="prefetch" href="/assets/index.html.b367c00a.js"><link rel="prefetch" href="/assets/index.html.e3f07afa.js"><link rel="prefetch" href="/assets/index.html.25e9b1cf.js"><link rel="prefetch" href="/assets/index.html.19c73395.js"><link rel="prefetch" href="/assets/index.html.f1876610.js"><link rel="prefetch" href="/assets/index.html.48f029b6.js"><link rel="prefetch" href="/assets/index.html.92cbd1d7.js"><link rel="prefetch" href="/assets/index.html.ce5d439c.js"><link rel="prefetch" href="/assets/404.66948786.js"><link rel="prefetch" href="/assets/Layout.2c261cba.js"><link rel="prefetch" href="/assets/Slide.1fe2c4d7.js"><link rel="prefetch" href="/assets/Blog.bf2a4e35.js"><link rel="prefetch" href="/assets/giscus.8fe73ced.js"><link rel="prefetch" href="/assets/auto.esm.2565cd3a.js"><link rel="prefetch" href="/assets/index.d8a59108.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.ee1e0284.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.218074cd.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="https://img-blog.csdnimg.cn/d16e11af2edb4972833f88083d2f0375.png" alt="è‰æ²é£"><!----><span class="site-name hide-in-pad">è‰æ²é£</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="icon iconfont icon-home"></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æŠ€æœ¯åšæ–‡"><span class="title"><span class="icon iconfont icon-xieboke"></span>æŠ€æœ¯åšæ–‡</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å†…åŠŸå¿ƒæ³•</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/basic/design-pattern/" class="nav-link" aria-label="è®¾è®¡æ¨¡å¼"><span class="icon iconfont icon-design"></span>è®¾è®¡æ¨¡å¼<!----></a></li><li class="dropdown-subitem"><a href="/posts/basic/design-principle/%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99.html" class="nav-link" aria-label="è®¾è®¡åŸåˆ™"><span class="icon iconfont icon-design"></span>è®¾è®¡åŸåˆ™<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å­˜å‚¨ç¯‡</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/storage/MySQL" class="nav-link active" aria-label="MySQL"><span class="icon iconfont icon-mysql"></span>MySQL<!----></a></li><li class="dropdown-subitem"><a href="/posts/storage/Redis" class="nav-link" aria-label="Redis"><span class="icon iconfont icon-redis"></span>Redis<!----></a></li><li class="dropdown-subitem"><a href="/posts/storage/ElasticSearch" class="nav-link" aria-label="ElasticSearch"><span class="icon iconfont icon-elasticsearch-Elasticsearch"></span>ElasticSearch<!----></a></li></ul></li><li class="dropdown-item"><a href="/posts/concurrency" class="nav-link" aria-label="å¹¶å‘ç¯‡"><span class="icon iconfont icon-CPU"></span>å¹¶å‘ç¯‡<!----></a></li><li class="dropdown-item"><a href="/posts/JVM" class="nav-link" aria-label="JVM"><span class="icon iconfont icon-PCxuniji"></span>JVM<!----></a></li><li class="dropdown-item"><a href="/posts/os" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-linux"></span>Linux<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="title"><span class="icon iconfont icon-keyboard"></span>å¼€å‘å·¥å…·</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/posts/tools/IDEA" class="nav-link" aria-label="IDEA"><span class="icon iconfont icon-jetbrains"></span>IDEA<!----></a></li><li class="dropdown-item"><a href="/posts/tools/VSCode" class="nav-link" aria-label="VSCode"><span class="icon iconfont icon-VsCode"></span>VSCode<!----></a></li><li class="dropdown-item"><a href="/posts/tools/Mac" class="nav-link" aria-label="Mac"><span class="icon iconfont icon-mac"></span>Mac<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/posts/network-programming" class="nav-link" aria-label="socketç¼–ç¨‹"><span class="icon iconfont icon-wangluojiekou"></span>socketç¼–ç¨‹<!----></a></div><div class="nav-item hide-in-mobile"><a href="/update.html" class="nav-link" aria-label="æœ€è¿‘æ›´æ–°"><span class="icon iconfont icon-Update"></span>æœ€è¿‘æ›´æ–°<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://space.bilibili.com/519360358" rel="noopener noreferrer" target="_blank" aria-label class="nav-link"><span class="icon iconfont icon-bilibili"></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/chanmufeng/chanmufeng.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><div id="docsearch-container"></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-strong"></span><span class="title">1. åŸºç¡€ç¯‡</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1SELECT%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸€æ¡SELECTè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„"><span class="icon iconfont icon-creative"></span>ä¸€æ¡SELECTè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸€æ¡UPDATEè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„"><span class="icon iconfont icon-creative"></span>ä¸€æ¡UPDATEè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-condition"></span><span class="title">2. ç´¢å¼•ç¯‡</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/storage/MySQL/%E4%B8%BA%E4%BB%80%E4%B9%88MySQL%E7%9A%84%E4%B8%BB%E9%94%AE%E6%9F%A5%E8%AF%A2%E8%BF%99%E4%B9%88%E5%BF%AB.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸ºä»€ä¹ˆMySQLçš„ä¸»é”®æŸ¥è¯¢è¿™ä¹ˆå¿«"><span class="icon iconfont icon-creative"></span>ä¸ºä»€ä¹ˆMySQLçš„ä¸»é”®æŸ¥è¯¢è¿™ä¹ˆå¿«<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/storage/MySQL/%E4%BB%8E%E6%A0%B9%E5%84%BF%E4%B8%8A%E7%90%86%E8%A7%A3%E7%B4%A2%E5%BC%95.html" class="nav-link sidebar-link sidebar-page" aria-label="ä»æ ¹å„¿ä¸Šç†è§£ç´¢å¼•"><span class="icon iconfont icon-creative"></span>ä»æ ¹å„¿ä¸Šç†è§£ç´¢å¼•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/storage/MySQL/MySQL%E7%B4%A2%E5%BC%95%E7%9A%84%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQLç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿"><span class="icon iconfont icon-creative"></span>MySQLç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/storage/MySQL/%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E5%BB%BA%E8%AE%AE%E4%BD%A0%E4%BD%BF%E7%94%A8SELECT*.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸ºä»€ä¹ˆä¸å»ºè®®ä½ ä½¿ç”¨SELECT*"><span class="icon iconfont icon-creative"></span>ä¸ºä»€ä¹ˆä¸å»ºè®®ä½ ä½¿ç”¨SELECT*<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-lock"></span><span class="title">3. äº‹åŠ¡ä¸é”</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/storage/MySQL/%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E6%80%A7%E4%B8%8EMVCC.html" class="nav-link sidebar-link sidebar-page" aria-label="äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC"><span class="icon iconfont icon-creative"></span>äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="MySQLé”ï¼Œé”çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ"><span class="icon iconfont icon-creative"></span>MySQLé”ï¼Œé”çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_1-èµ„æºçš„ç«äº‰æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. èµ„æºçš„ç«äº‰æ–¹å¼"><!---->1. èµ„æºçš„ç«äº‰æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-è¯»â€”å†™-å†™â€”è¯»ä¸‹çš„é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. è¯»â€”å†™/å†™â€”è¯»ä¸‹çš„é—®é¢˜"><!---->2. è¯»â€”å†™/å†™â€”è¯»ä¸‹çš„é—®é¢˜<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-1-å¹»è¯»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1. å¹»è¯»"><!---->2.1. å¹»è¯»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-2-ä¸å¯é‡å¤è¯»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.2. ä¸å¯é‡å¤è¯»"><!---->2.2. ä¸å¯é‡å¤è¯»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-3-è„è¯»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.3. è„è¯»"><!---->2.3. è„è¯»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-4-é”ä¸mvccçš„å…³ç³»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.4. é”ä¸MVCCçš„å…³ç³»"><!---->2.4. é”ä¸MVCCçš„å…³ç³»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-5-é”ä¸äº‹åŠ¡çš„å…³ç³»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.5. é”ä¸äº‹åŠ¡çš„å…³ç³»"><!---->2.5. é”ä¸äº‹åŠ¡çš„å…³ç³»<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_3-å†™â€”å†™æƒ…å†µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. å†™â€”å†™æƒ…å†µ"><!---->3. å†™â€”å†™æƒ…å†µ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_4-é”çš„ç²’åº¦" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. é”çš„ç²’åº¦"><!---->4. é”çš„ç²’åº¦<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_5-é”çš„åŸºæœ¬æ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. é”çš„åŸºæœ¬æ¨¡å¼"><!---->5. é”çš„åŸºæœ¬æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_5-1-å…±äº«é”" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.1. å…±äº«é”"><!---->5.1. å…±äº«é”<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_5-2-æ’ä»–é”" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.2. æ’ä»–é”"><!---->5.2. æ’ä»–é”<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_6-æ„å‘é”" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. æ„å‘é”"><!---->6. æ„å‘é”<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_6-1-èƒŒæ™¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.1. èƒŒæ™¯"><!---->6.1. èƒŒæ™¯<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_6-2-æ¦‚å¿µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.2. æ¦‚å¿µ"><!---->6.2. æ¦‚å¿µ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_7-è¡Œé”çš„åŸç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7. è¡Œé”çš„åŸç†"><!---->7. è¡Œé”çš„åŸç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_7-1-æ²¡æœ‰ä»»ä½•ç´¢å¼•çš„è¡¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.1. æ²¡æœ‰ä»»ä½•ç´¢å¼•çš„è¡¨"><!---->7.1. æ²¡æœ‰ä»»ä½•ç´¢å¼•çš„è¡¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_7-2-æœ‰ä¸»é”®ç´¢å¼•çš„è¡¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.2. æœ‰ä¸»é”®ç´¢å¼•çš„è¡¨"><!---->7.2. æœ‰ä¸»é”®ç´¢å¼•çš„è¡¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_7-3-æœ‰å”¯ä¸€ç´¢å¼•çš„è¡¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.3. æœ‰å”¯ä¸€ç´¢å¼•çš„è¡¨"><!---->7.3. æœ‰å”¯ä¸€ç´¢å¼•çš„è¡¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_8-ä¸‰ä¸ªé—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8. ä¸‰ä¸ªé—®é¢˜"><!---->8. ä¸‰ä¸ªé—®é¢˜<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_8-1-é”ä½ç´¢å¼•-æ²¡æœ‰ç´¢å¼•æ€ä¹ˆåŠ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8.1. é”ä½ç´¢å¼•ï¼Ÿæ²¡æœ‰ç´¢å¼•æ€ä¹ˆåŠï¼Ÿ"><!---->8.1. é”ä½ç´¢å¼•ï¼Ÿæ²¡æœ‰ç´¢å¼•æ€ä¹ˆåŠï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_8-2-ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªå®éªŒä¼šé”è¡¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8.2. ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªå®éªŒä¼šé”è¡¨ï¼Ÿ"><!---->8.2. ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªå®éªŒä¼šé”è¡¨ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_8-3-ä¸ºä»€ä¹ˆé€šè¿‡å”¯ä¸€ç´¢å¼•ç»™æ•°æ®åŠ é”-ä¸»é”®ç´¢å¼•ä¹Ÿä¼šè¢«é”ä½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8.3. ä¸ºä»€ä¹ˆé€šè¿‡å”¯ä¸€ç´¢å¼•ç»™æ•°æ®åŠ é”ï¼Œä¸»é”®ç´¢å¼•ä¹Ÿä¼šè¢«é”ä½ï¼Ÿ"><!---->8.3. ä¸ºä»€ä¹ˆé€šè¿‡å”¯ä¸€ç´¢å¼•ç»™æ•°æ®åŠ é”ï¼Œä¸»é”®ç´¢å¼•ä¹Ÿä¼šè¢«é”ä½ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_9-æ€»ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="9. æ€»ç»“"><!---->9. æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-lock"></span><span class="title">4. æ•°æ®ä¸€è‡´æ€§</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/storage/MySQL/MySQL%E4%B8%8ERedis%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7.html" class="nav-link sidebar-link sidebar-page" aria-label="å…ˆä¿®æ”¹MySQLè¿˜æ˜¯å…ˆä¿®æ”¹Redis"><span class="icon iconfont icon-creative"></span>å…ˆä¿®æ”¹MySQLè¿˜æ˜¯å…ˆä¿®æ”¹Redis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-cycle"></span><span class="title">5. ä¼˜åŒ–</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/storage/MySQL/MySQL%E4%BC%98%E5%8C%96%E7%9A%845%E4%B8%AA%E7%BB%B4%E5%BA%A6.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQLä¼˜åŒ–çš„5ä¸ªç»´åº¦"><span class="icon iconfont icon-creative"></span>MySQLä¼˜åŒ–çš„5ä¸ªç»´åº¦<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-creative"></span>MySQLé”ï¼Œé”çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://www.chanmufeng.com" target="_blank" rel="noopener noreferrer">è‰æ²é£</a></span><span property="author" content="è‰æ²é£"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´12æœˆ2æ—¥</span><meta property="datePublished" content="2022-12-02T13:39:30.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category3 clickable" role="navigation">MySQL</li><meta property="articleSection" content="MySQL"></ul></span><span aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag3 clickable" role="navigation">MySQL</li><li class="tag tag8 clickable" role="navigation">é”</li></ul><meta property="keywords" content="MySQL,é”"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´12æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 18 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT18M"></span><!----><span class="words-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down" localizeddate="2022å¹´12æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 5498 å­—</span><meta property="wordCount" content="5498"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_1-èµ„æºçš„ç«äº‰æ–¹å¼" class="router-link-active router-link-exact-active toc-link level2">1. èµ„æºçš„ç«äº‰æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-è¯»â€”å†™-å†™â€”è¯»ä¸‹çš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level2">2. è¯»â€”å†™/å†™â€”è¯»ä¸‹çš„é—®é¢˜</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-1-å¹»è¯»" class="router-link-active router-link-exact-active toc-link level3">2.1. å¹»è¯»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-2-ä¸å¯é‡å¤è¯»" class="router-link-active router-link-exact-active toc-link level3">2.2. ä¸å¯é‡å¤è¯»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-3-è„è¯»" class="router-link-active router-link-exact-active toc-link level3">2.3. è„è¯»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-4-é”ä¸mvccçš„å…³ç³»" class="router-link-active router-link-exact-active toc-link level3">2.4. é”ä¸MVCCçš„å…³ç³»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_2-5-é”ä¸äº‹åŠ¡çš„å…³ç³»" class="router-link-active router-link-exact-active toc-link level3">2.5. é”ä¸äº‹åŠ¡çš„å…³ç³»</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_3-å†™â€”å†™æƒ…å†µ" class="router-link-active router-link-exact-active toc-link level2">3. å†™â€”å†™æƒ…å†µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_4-é”çš„ç²’åº¦" class="router-link-active router-link-exact-active toc-link level2">4. é”çš„ç²’åº¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_5-é”çš„åŸºæœ¬æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level2">5. é”çš„åŸºæœ¬æ¨¡å¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_5-1-å…±äº«é”" class="router-link-active router-link-exact-active toc-link level3">5.1. å…±äº«é”</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_5-2-æ’ä»–é”" class="router-link-active router-link-exact-active toc-link level3">5.2. æ’ä»–é”</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_6-æ„å‘é”" class="router-link-active router-link-exact-active toc-link level2">6. æ„å‘é”</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_6-1-èƒŒæ™¯" class="router-link-active router-link-exact-active toc-link level3">6.1. èƒŒæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_6-2-æ¦‚å¿µ" class="router-link-active router-link-exact-active toc-link level3">6.2. æ¦‚å¿µ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_7-è¡Œé”çš„åŸç†" class="router-link-active router-link-exact-active toc-link level2">7. è¡Œé”çš„åŸç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_7-1-æ²¡æœ‰ä»»ä½•ç´¢å¼•çš„è¡¨" class="router-link-active router-link-exact-active toc-link level3">7.1. æ²¡æœ‰ä»»ä½•ç´¢å¼•çš„è¡¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_7-2-æœ‰ä¸»é”®ç´¢å¼•çš„è¡¨" class="router-link-active router-link-exact-active toc-link level3">7.2. æœ‰ä¸»é”®ç´¢å¼•çš„è¡¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_7-3-æœ‰å”¯ä¸€ç´¢å¼•çš„è¡¨" class="router-link-active router-link-exact-active toc-link level3">7.3. æœ‰å”¯ä¸€ç´¢å¼•çš„è¡¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_8-ä¸‰ä¸ªé—®é¢˜" class="router-link-active router-link-exact-active toc-link level2">8. ä¸‰ä¸ªé—®é¢˜</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_8-1-é”ä½ç´¢å¼•-æ²¡æœ‰ç´¢å¼•æ€ä¹ˆåŠ" class="router-link-active router-link-exact-active toc-link level3">8.1. é”ä½ç´¢å¼•ï¼Ÿæ²¡æœ‰ç´¢å¼•æ€ä¹ˆåŠï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_8-2-ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªå®éªŒä¼šé”è¡¨" class="router-link-active router-link-exact-active toc-link level3">8.2. ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªå®éªŒä¼šé”è¡¨ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_8-3-ä¸ºä»€ä¹ˆé€šè¿‡å”¯ä¸€ç´¢å¼•ç»™æ•°æ®åŠ é”-ä¸»é”®ç´¢å¼•ä¹Ÿä¼šè¢«é”ä½" class="router-link-active router-link-exact-active toc-link level3">8.3. ä¸ºä»€ä¹ˆé€šè¿‡å”¯ä¸€ç´¢å¼•ç»™æ•°æ®åŠ é”ï¼Œä¸»é”®ç´¢å¼•ä¹Ÿä¼šè¢«é”ä½ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/MySQL%E9%94%81%E5%BC%80%E7%AF%87.html#_9-æ€»ç»“" class="router-link-active router-link-exact-active toc-link level2">9. æ€»ç»“</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><p>MySQLé”ç³»åˆ—æ–‡ç« å·²ç»é¸½äº†æŒºä¹…äº†ï¼Œæœ€è¿‘èµ¶ç´§æŒ¤äº†æŒ¤æ—¶é—´ï¼Œå’Œå¤§å®¶èŠä¸€èŠMySQLçš„é”ã€‚</p><p>åªè¦å­¦è®¡ç®—æœºï¼Œã€Œ<code>é”</code>ã€æ°¸è¿œæ˜¯ä¸€ä¸ªç»•ä¸è¿‡çš„è¯é¢˜ã€‚MySQLé”ä¹Ÿæ˜¯ä¸€æ ·ã€‚</p><p>ä¸€å¥è¯è§£é‡ŠMySQLé”ï¼š</p><p>MySQLé”æ˜¯<strong>è§£å†³èµ„æºç«äº‰</strong>çš„ä¸€ç§æ–¹æ¡ˆã€‚</p><p>çŸ­çŸ­ä¸€å¥è¯å´åŒ…å«äº†3ç‚¹å€¼å¾—æˆ‘ä»¬æ³¨æ„çš„äº‹æƒ…ï¼š</p><ol><li>å¯¹ä»€ä¹ˆèµ„æºè¿›è¡Œç«äº‰ï¼Ÿ</li><li>ç«äº‰çš„æ–¹å¼ï¼ˆæˆ–è€…è¯´æƒ…å½¢ï¼‰æœ‰å“ªäº›ï¼Ÿ</li><li>é”æ˜¯å¦‚ä½•è§£å†³ç«äº‰çš„ï¼Ÿ</li></ol><p>è¿™ç¯‡æ–‡ç« å¼€å§‹å¸¦ä½ å¾ªåºæ¸è¿›åœ°ç†è§£è¿™å‡ ä¸ªé—®é¢˜ã€‚</p><h2 id="_1-èµ„æºçš„ç«äº‰æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-èµ„æºçš„ç«äº‰æ–¹å¼" aria-hidden="true">#</a> 1. èµ„æºçš„ç«äº‰æ–¹å¼</h2><p>MySQLå¯¹èµ„æºçš„æ“ä½œæ— éå°±æ˜¯<strong>è¯»</strong>ã€<strong>å†™</strong>ä¸¤ç§æ–¹å¼ï¼Œä½†æ˜¯ç”±äºäº‹åŠ¡å¹¶å‘æ‰§è¡Œçš„å­˜åœ¨ï¼Œå› æ­¤å¯¹åŒä¸€èµ„æºçš„å¹¶å‘è®¿é—®å­˜åœ¨3ç§å½¢å¼ï¼š</p><ul><li>è¯»â€”è¯»ï¼šå¹¶å‘äº‹åŠ¡åŒæ—¶è¯»å–ç›¸åŒèµ„æºã€‚ç”±äºè¯»æ“ä½œä¸ä¼šæ”¹å˜èµ„æºæœ¬èº«ï¼Œå› æ­¤<strong>è¿™ç§æƒ…å†µä¸‹å¹¶ä¸å­˜åœ¨å¹¶å‘å®‰å…¨æ€§é—®é¢˜</strong>ã€‚</li><li>è¯»â€”å†™/å†™â€”è¯»ï¼šä¸€ä¸ªäº‹åŠ¡å¯¹èµ„æºè¿›è¡Œè¯»æ“ä½œï¼Œå¦ä¸€ä¸ªäº‹åŠ¡å¯¹èµ„æºè¿›è¡Œå†™æ“ä½œã€‚</li><li>å†™â€”å†™ï¼šå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹åŒä¸€ä¸ªèµ„æºè¿›è¡Œå†™æ“ä½œã€‚</li></ul><h2 id="_2-è¯»â€”å†™-å†™â€”è¯»ä¸‹çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_2-è¯»â€”å†™-å†™â€”è¯»ä¸‹çš„é—®é¢˜" aria-hidden="true">#</a> 2. è¯»â€”å†™/å†™â€”è¯»ä¸‹çš„é—®é¢˜</h2><p>å‡è®¾ä¸€ç§æƒ…å½¢ï¼Œä¸€ä¸ªäº‹åŠ¡å…ˆå¯¹æŸä¸ªèµ„æºè¿›è¡Œè¯»æ“ä½œï¼Œç„¶åå¦ä¸€ä¸ªäº‹åŠ¡å†å¯¹è¯¥èµ„æºè¿›è¡Œå†™æ“ä½œï¼Œå¦‚æœä¸¤ä¸ªäº‹åŠ¡åˆ°æ­¤ä¸ºæ­¢ï¼Œå¿…ç„¶ä¸ä¼šå¯¼è‡´å¹¶å‘é—®é¢˜ã€‚</p><p>å¯æ˜¯äº‹åŠ¡è¿™ç§ä¸œè¥¿ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å°±æ˜¯åŒ…å«æœ‰å¾ˆå¤šä¸ªå­æ“ä½œå•Šã€‚</p><h3 id="_2-1-å¹»è¯»" tabindex="-1"><a class="header-anchor" href="#_2-1-å¹»è¯»" aria-hidden="true">#</a> 2.1. å¹»è¯»</h3><p>æƒ³è±¡ä¸€ä¸‹å•Šï¼Œå‡è®¾äº‹åŠ¡<code>T1</code>å’Œ<code>T2</code>å¹¶å‘æ‰§è¡Œï¼Œ<code>T1</code>å…ˆæŸ¥æ‰¾äº†æ‰€æœ‰<code>name</code>ä¸ºã€Œç‹åˆšè›‹ã€çš„ç”¨æˆ·ä¿¡æ¯ï¼Œæ­¤æ—¶å‘ç°æ‹¥æœ‰è¿™ä¸ªç¡¬æ±‰åå­—çš„ç”¨æˆ·åªæœ‰ä¸€ä¸ªã€‚ç„¶å<code>T2</code>æ’å…¥äº†ä¸€ä¸ªåŒæ ·å«åšã€Œç‹åˆšè›‹ã€çš„ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¹¶ä¸”æäº¤äº†ã€‚</p><p><img src="http://qiniu.chanmufeng.com/2022-04-18-070817.png" alt="" loading="lazy"></p><p><img src="http://qiniu.chanmufeng.com/2022-11-29-063333.png" alt="" loading="lazy"></p><h3 id="_2-2-ä¸å¯é‡å¤è¯»" tabindex="-1"><a class="header-anchor" href="#_2-2-ä¸å¯é‡å¤è¯»" aria-hidden="true">#</a> 2.2. ä¸å¯é‡å¤è¯»</h3><p>å†æ¥ï¼ŒåŒæ ·æ˜¯<code>T1</code>å’Œ<code>T2</code>ä¸¤ä¸ªäº‹åŠ¡ï¼Œ<code>T1</code>é€šè¿‡<code>id = 1</code>æŸ¥è¯¢åˆ°äº†ä¸€æ¡æ•°æ®ï¼Œç„¶å<code>T2</code>ç´§æ¥ç€<code>UPDATE</code>ï¼ˆ<code>DELETE</code>ä¹Ÿå¯ä»¥ï¼‰äº†è¯¥æ¡è®°å½•ï¼Œä¸åŒçš„æ˜¯ï¼Œ<code>T2</code>ç´§æ¥ç€é€šè¿‡<code>COMMIT</code>æäº¤äº†äº‹åŠ¡ã€‚</p><p><img src="http://qiniu.chanmufeng.com/2022-04-18-064329.png" alt="" loading="lazy"></p><p>æ­¤æ—¶ï¼Œ<code>T1</code>å†æ¬¡æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢æ“ä½œï¼Œä¼šå‘ç°æ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œ<code>name</code>å­—æ®µç”±ã€Œç‹åˆšè›‹ã€å˜æˆäº†ã€Œè‰æ²é£ã€ã€‚</p><p>å¦‚æœä¸€ä¸ªäº‹åŠ¡è¯»åˆ°äº†å¦ä¸€ä¸ª<strong>å·²æäº¤äº‹åŠ¡</strong>ä¿®æ”¹è¿‡çš„ï¼ˆæˆ–è€…æ˜¯åˆ é™¤çš„ï¼‰æ•°æ®ï¼Œè€Œå¯¼è‡´äº†å‰åä¸¤æ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œè¿™ç§äº‹åŠ¡å¹¶å‘é—®é¢˜å«åš<strong>ä¸å¯é‡å¤è¯»</strong>ã€‚</p><h3 id="_2-3-è„è¯»" tabindex="-1"><a class="header-anchor" href="#_2-3-è„è¯»" aria-hidden="true">#</a> 2.3. è„è¯»</h3><p>äº‹æƒ…è¿˜æ²¡ç»“æŸï¼Œå‡è®¾<code>T1</code>å’Œ<code>T2</code>éƒ½è¦è®¿é—®<code>user_innodb</code>è¡¨ä¸­<code>id</code>ä¸º<code>1</code>çš„æ•°æ®ï¼Œä¸åŒçš„æ˜¯<code>T1</code>å…ˆè¯»å–æ•°æ®ï¼Œç´§æ¥ç€<code>T2</code>ä¿®æ”¹äº†æ•°æ®çš„<code>name</code>å­—æ®µï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>T2</code>å¹¶æ²¡æœ‰æäº¤ï¼</p><p><img src="http://qiniu.chanmufeng.com/2022-04-18-062617.png" alt="" loading="lazy"></p><p>æ­¤æ—¶ï¼Œ<code>T1</code>å†æ¬¡æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢æ“ä½œï¼Œä¼šå‘ç°æ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œ<code>name</code>å­—æ®µç”±ã€Œç‹åˆšè›‹ã€å˜æˆäº†ã€Œè‰æ²é£ã€ã€‚</p><p>å¦‚æœä¸€ä¸ªäº‹åŠ¡è¯»åˆ°äº†å¦ä¸€ä¸ª<strong>æœªæäº¤äº‹åŠ¡</strong>ä¿®æ”¹è¿‡çš„æ•°æ®ï¼Œè€Œå¯¼è‡´äº†å‰åä¸¤æ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œè¿™ç§äº‹åŠ¡å¹¶å‘é—®é¢˜å«åš<strong>è„è¯»</strong>ã€‚</p><h3 id="_2-4-é”ä¸mvccçš„å…³ç³»" tabindex="-1"><a class="header-anchor" href="#_2-4-é”ä¸mvccçš„å…³ç³»" aria-hidden="true">#</a> 2.4. é”ä¸MVCCçš„å…³ç³»</h3><p>æ€»ç»“ä¸€ä¸‹ï¼šæˆ‘ä»¬åœ¨è¯»â€”å†™ï¼Œå†™â€”è¯»çš„æƒ…å†µä¸‹ä¼šé‡åˆ°3ç§è¯»ä¸ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œè„è¯»ã€ä¸å¯é‡å¤è¯»ä»¥åŠå¹»è¯»ã€‚</p><p>é‚£å†™â€”å†™å‘¢ï¼Ÿå¾ˆæ˜¾ç„¶ï¼Œåœ¨ä¸åšä»»ä½•æªæ–½çš„æƒ…å†µä¸‹ï¼Œå¹¶å‘ä¼šå‡ºç°æ›´å¤§çš„é—®é¢˜ã€‚é‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>ä¸€åˆ‡çš„å¹¶å‘é—®é¢˜éƒ½å¯ä»¥é€šè¿‡ä¸²è¡ŒåŒ–è§£å†³ï¼Œä½†æ˜¯ä¸²è¡ŒåŒ–æ•ˆç‡å¤ªä½äº†ï¼</p><p>å†ä¼˜åŒ–ä¸€ä¸‹ï¼Œä¸€åˆ‡å¹¶å‘é—®é¢˜éƒ½å¯ä»¥é€šè¿‡åŠ é”æ¥è§£å†³ï¼Œè¿™ç§æ–¹æ¡ˆæˆ‘ä»¬ç§°ä¸º<strong>åŸºäºé”çš„å¹¶å‘æ§åˆ¶</strong>ï¼ˆ<strong>Lock Bases Concurrency Control</strong>, <strong>LBCC</strong>ï¼‰ï¼ä½†æ˜¯åœ¨è¯»å¤šå†™å°‘çš„ç¯å¢ƒä¸‹ï¼Œå®¢æˆ·ç«¯è¿è¯»å–å‡ æ¡è®°å½•éƒ½éœ€è¦æ’é˜Ÿï¼Œæ•ˆç‡è¿˜æ˜¯å¤ªä½äº†ï¼</p><p>å› æ­¤ï¼ŒMySQLçš„è®¾è®¡è€…ä¸ºäº‹åŠ¡ä¹‹é—´çš„éš”ç¦»æ€§æä¾›äº†ä¸åŒçš„çº§åˆ«ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡åœºæ™¯è®¾ç½®ä¸åŒçš„éš”ç¦»çº§åˆ«ï¼Œæ¥è§£å†³ï¼ˆæˆ–è€…éƒ¨åˆ†è§£å†³ï¼‰è¯»â€”å†™/å†™â€”è¯»ä¸‹çš„è¯»ä¸€è‡´æ€§é—®é¢˜ï¼Œè€Œä¸æ˜¯ä¸€ä¸Šæ¥å°±åŠ é”ã€‚</p><p>è¿™ç§æœºåˆ¶å«åš<code>MVCC</code>ï¼Œå¦‚æœä½ å¯¹è¿™ä¸ªæ¦‚å¿µä¸æ˜¯å¾ˆäº†è§£ï¼Œæˆ‘å»ºè®®ä½ æš‚åœä¸€ä¸‹ï¼Œè¯»ä¸€ä¸‹æˆ‘çš„<a href="https://mp.weixin.qq.com/s?__biz=MzI1MDU0MTc2MQ==&amp;mid=2247484497&amp;idx=1&amp;sn=1cbf4fe107b01f6d53e4b2ad4bb09a83&amp;chksm=e981e7ffdef66ee91b2def2b0e42511c2e75fd19e2040b1ec03e6653fec2300250c057dd1b1e#rd" target="_blank" rel="noopener noreferrer">äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>è¿™ç¯‡æ–‡ç« ï¼Œå†™å¾—è´¼å¥½ï¼ï¼ï¼ˆè‡ªå–è‡ªå¤¸ä¸€ä¸‹ï¼‰</p><p>é‚£æœ‰äº†MVCCæ˜¯ä¸æ˜¯åœ¨è¯»â€”å†™/å†™â€”è¯»çš„æƒ…å†µä¸‹å°±ä¸éœ€è¦é”äº†å‘¢ï¼Ÿé‚£ä¹Ÿä¸æ˜¯ã€‚</p><p>MVCCè§£å†³çš„æ˜¯è¯»â€”å†™/å†™â€”è¯»ä¸­â€œ<strong>æ¯”è¾ƒçº¯ç²¹çš„è¯»</strong>â€é‡åˆ°çš„ä¸€è‡´æ€§é—®é¢˜ï¼ŒåŸè°…æˆ‘ï¼Œè¿™æ˜¯æˆ‘è‡ªå·±ç¼–çš„è¯å„¿ã€‚é‚£ä»€ä¹ˆæ˜¯ä¸çº¯ç²¹çš„ï¼Ÿæ‹¿å­˜æ¬¾ä¸šåŠ¡ä¸¾ä¸ªä¾‹å­ã€‚</p><p>å‡è®¾é™€èºè¦å­˜ä¸€ç¬”é’±ï¼Œç³»ç»Ÿéœ€è¦å…ˆæŠŠé™€èºçš„ä½™é¢è¯»å‡ºæ¥ï¼Œç„¶ååœ¨ä½™é¢çš„åŸºç¡€ä¸ŠåŠ ä¸Šæœ¬æ¬¡å­˜æ¬¾çš„é‡‘é¢ï¼Œæœ€åå†å†™å…¥åˆ°æ•°æ®åº“ä¸­ã€‚åœ¨å°†ä½™é¢è¯»å‡ºæ¥ä¹‹åï¼Œå¦‚æœä¸æƒ³è®©å…¶ä»–äº‹åŠ¡ç»§ç»­è®¿é—®è¯¥ä½™é¢ï¼Œç›´åˆ°æ•´ä¸ªå­˜æ¬¾äº‹åŠ¡å®Œæˆä¹‹åï¼Œå…¶ä»–äº‹åŠ¡æ‰å¯ä»¥å¯¹è¯¥ä½™é¢ç»§ç»­è¿›è¡Œæ“ä½œï¼Œè¿™ç§æƒ…å†µä¸‹å°±å¿…é¡»ä¸ºä½™é¢çš„è¯»å–æ“ä½œæ·»åŠ é”ã€‚</p><p>å†æ€»ç»“ä¸€ä¸‹ï¼š<strong>MVCCæ˜¯MySQLé»˜è®¤çš„è§£å†³è¯»â€”å†™/å†™â€”è¯»ä¸‹ä¸€è‡´æ€§é—®é¢˜çš„æ–¹å¼ï¼Œä¸éœ€è¦åŠ é”ã€‚è€Œé”æ˜¯å®ç°ä¸€è‡´æ€§çš„æœ€ç»ˆå…œåº•æ–¹æ¡ˆï¼Œåœ¨æŸäº›ç‰¹æ®Šåœºæ™¯ä¸‹ï¼Œé”çš„ä½¿ç”¨ä¸å¯é¿å…</strong>ã€‚</p><blockquote><p>è¯´å¾—æ›´å‡†ç¡®ä¸€ç‚¹ï¼ŒMVCCæ˜¯MySQLåœ¨<code>READ COMMITTED</code>ã€<code>REPEATABLE READ</code>è¿™ä¸¤ç§éš”ç¦»çº§åˆ«ä¹‹ä¸‹æ‰§è¡Œæ™®é€š<code>SELECT</code>æ“ä½œæ—¶é»˜è®¤è§£å†³ä¸€è‡´æ€§é—®é¢˜çš„æ–¹å¼ã€‚</p><p>å…·ä½“ä¸ºä»€ä¹ˆåªæ˜¯è¿™ä¸¤ç§éš”ç¦»çº§åˆ«ï¼Œå»ºè®®ä½ çœ‹çœ‹<a href="https://mp.weixin.qq.com/s?__biz=MzI1MDU0MTc2MQ==&amp;mid=2247484497&amp;idx=1&amp;sn=1cbf4fe107b01f6d53e4b2ad4bb09a83&amp;chksm=e981e7ffdef66ee91b2def2b0e42511c2e75fd19e2040b1ec03e6653fec2300250c057dd1b1e#rd" target="_blank" rel="noopener noreferrer">äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p></blockquote><h3 id="_2-5-é”ä¸äº‹åŠ¡çš„å…³ç³»" tabindex="-1"><a class="header-anchor" href="#_2-5-é”ä¸äº‹åŠ¡çš„å…³ç³»" aria-hidden="true">#</a> 2.5. é”ä¸äº‹åŠ¡çš„å…³ç³»</h3><p>äº‹åŠ¡æ˜¯å¤šä¸ªæ“ä½œçš„é›†åˆï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥æŠŠã€ŒæŠŠå¤§è±¡è£…å†°ç®±ã€è¿™ä»¶äº‹æƒ…ä½œä¸ºä¸€ä¸ªäº‹åŠ¡ã€‚</p><p><img src="http://qiniu.chanmufeng.com/2022-11-13-093141.png" alt="" loading="lazy"></p><p>äº‹åŠ¡æœ‰<code>A</code>ï¼ˆåŸå­æ€§ï¼‰ã€<code>C</code>ï¼ˆä¸€è‡´æ€§ï¼‰ã€<code>I</code>ï¼ˆéš”ç¦»æ€§ï¼‰ã€<code>D</code>ï¼ˆæŒä¹…æ€§ï¼‰4å¤§ç‰¹æ€§ï¼Œè€Œé”å°±æ˜¯å®ç°éš”ç¦»æ€§çš„å…¶ä¸­ä¸€ç§æ–¹æ¡ˆï¼ˆæ¯”å¦‚è¿˜æœ‰MVCCç­‰æ–¹æ¡ˆï¼‰ã€‚</p><p>äº‹åŠ¡çš„éš”ç¦»æ€§é’ˆå¯¹ä¸åŒåœºæ™¯éœ€æ±‚åˆå®ç°äº†ä¸åŒçš„éš”ç¦»çº§åˆ«ï¼Œä¸åŒçš„éš”ç¦»çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡ä½¿ç”¨é”çš„æ–¹å¼åˆä¼šæœ‰æ‰€ä¸åŒã€‚ä¸¾ä¸ªä¾‹å­ã€‚</p><p>åœ¨<code>READ COMMITTED</code>ã€<code>REPEATABLE READ</code>è¿™ä¸¤ç§éš”ç¦»çº§åˆ«ä¹‹ä¸‹ï¼Œ<code>SELECT</code>æ“ä½œæ˜¯ä¸éœ€è¦åŠ é”çš„ï¼Œç›´æ¥ä½¿ç”¨MVCCæœºåˆ¶å³å¯æ»¡è¶³å½“å‰éš”ç¦»çº§åˆ«çš„éœ€æ±‚ã€‚ä½†æ˜¯åœ¨<code>SERIALIZABLE</code>éš”ç¦»çº§åˆ«ï¼Œå¹¶ä¸”åœ¨ç¦ç”¨è‡ªåŠ¨æäº¤æ—¶ï¼ˆautocommit=0ï¼‰ï¼ŒMySQLä¼šå°†æ™®é€šçš„<code>SELECT</code>è¯­å¥è½¬åŒ–ä¸º<code>SELECT ... LOCK IN SHARE MODE</code>è¿™æ ·çš„åŠ é”è¯­å¥ï¼Œå¦‚æœä½ çœ‹ä¸æ‡‚è¿™å¥è¯ä¹Ÿæ²¡å…³ç³»ï¼Œä½ åªéœ€è¦çŸ¥é“MySQLè‡ªåŠ¨åŠ é”äº†å°±è¡Œï¼Œæ›´è¯¦ç»†çš„ä¸‹æ–‡å†è¯´ã€‚</p><p>å¦å¤–ï¼Œä¸€ä¸ªäº‹åŠ¡å¯èƒ½ä¼šåŠ å¾ˆå¤šä¸ªé”ï¼Œä½†æ˜¯æŸä¸ªé”ä¸€å®šåªå±äºä¸€ä¸ªäº‹åŠ¡ã€‚è¿™å°±å¥½æ¯”ä¸€ä¸ªç®¡ç†å‘˜å¯ä»¥ç®¡ç†å¤šä¸ªä¿é™©æŸœï¼Œä¸€ä¸ªä¿é™©æŸœä¸€å®šåªè¢«ä¸€ä¸ªç®¡ç†å‘˜ç®¡ç†ã€‚</p><h2 id="_3-å†™â€”å†™æƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#_3-å†™â€”å†™æƒ…å†µ" aria-hidden="true">#</a> 3. å†™â€”å†™æƒ…å†µ</h2><p>å†™â€”å†™çš„æƒ…å†µä¸‹è‚¯å®šè¦åŠ é”çš„äº†ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥ç»ˆäºè¦èŠä¸€èŠé”äº†ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆç ”ç©¶ä¸€ä¸‹é”ä½çš„ä¸œè¥¿çš„å¤§å°ï¼Œä¹Ÿå°±æ˜¯é”çš„ç²’åº¦ã€‚</p><h2 id="_4-é”çš„ç²’åº¦" tabindex="-1"><a class="header-anchor" href="#_4-é”çš„ç²’åº¦" aria-hidden="true">#</a> 4. é”çš„ç²’åº¦</h2><p>ä¸¾ä¸€ä¸ªéå¸¸åº”æ™¯çš„ä¾‹å­ã€‚ç–«æƒ…é˜²æ§çš„æ—¶å€™ï¼Œæ˜¯å°é”æ•´ä¸ªå°åŒºè¿˜æ˜¯å°é”æŸæ ‹æ¥¼çš„æŸä¸ªå•å…ƒï¼Œè¿™å®Œå…¨æ˜¯ä¸¤ç§æ¦‚å¿µã€‚</p><p>å¯¹åº”åˆ°MySQLé”çš„ç²’åº¦ï¼Œé‚£å°±æ˜¯<code>è¡¨é”</code>å’Œ<code>è¡Œé”</code>ã€‚</p><p>å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå°é”å°åŒºçš„è¡Œä¸ºè¿œæ¯”å°é”æŸæ ‹æ¥¼æŸå•å…ƒçš„è¡Œä¸ºç²—æ—·ï¼Œå› æ­¤ï¼Œ</p><p><strong>ä»é”å®šç²’åº¦ä¸Šæ¥çœ‹ï¼Œè¡¨é” &gt; è¡Œé”</strong></p><p>ç›´æ¥å µä½å°åŒºçš„é—¨å£è¦æ¯”è¿›å…¥å°åŒºæ‰¾åˆ°å…·ä½“æŸæ ‹æ¥¼çš„æŸä¸ªå•å…ƒè¦å¿«ä¸å°‘ï¼Œå› æ­¤ï¼Œ</p><p><strong>ä»åŠ é”æ•ˆç‡ä¸Šæ¥çœ‹ï¼Œè¡¨é” &gt; è¡Œé”</strong></p><p>ç›´æ¥é”ä½å°åŒºå¤§æ¦‚ç‡ä¼šå½±å“å…¶ä»–æ¥¼å±…æ°‘çš„æ­£å¸¸ç”Ÿæ´»å’Œå„ç§ç¤¾ä¼šæ´»åŠ¨çš„å¼€å±•ï¼Œè€Œé”ä½æŸæ ‹æ¥¼æŸå•å…ƒé¡¶å¤šå½±å“è¿™ä¸€ä¸ªå•å…ƒçš„å±…æ°‘çš„ç”Ÿæ´»ï¼Œå› æ­¤ï¼Œ</p><p><strong>ä»å†²çªæ¦‚ç‡æ¥çœ‹ï¼Œè¡¨é” &gt; è¡Œé”</strong></p><p><strong>ä»å¹¶å‘æ€§èƒ½æ¥çœ‹ï¼Œè¡¨é” &lt; è¡Œé”</strong></p><p>MySQLæ”¯æŒå¾ˆå¤šå­˜å‚¨å¼•æ“ï¼Œè€Œä¸åŒçš„å­˜å‚¨å¼•æ“å¯¹é”çš„æ”¯æŒä¹Ÿä¸å°½ç›¸åŒã€‚å¯¹äº<code>MyISAM</code>ã€<code>MERGE</code>ã€<code>MEMORY</code>è¿™äº›å­˜å‚¨å¼•æ“è€Œè¨€ï¼Œåªæ”¯æŒè¡¨é”ï¼›è€Œ<code>InnoDB</code>å­˜å‚¨å¼•æ“æ—¢æ”¯æŒè¡¨é”ä¹Ÿæ”¯æŒè¡Œé”ï¼Œä¸‹æ–‡è®¨è®ºçš„æ‰€æœ‰å†…å®¹å‡é’ˆå¯¹InnoDBå­˜å‚¨å¼•æ“ã€‚</p><p>è¯´å®Œé”çš„ç²’åº¦ï¼Œè¿˜æœ‰ä¸€ä»¶äº‹æƒ…éœ€è¦æˆ‘ä»¬ä»”ç»†è€ƒè™‘ä¸€ä¸‹ã€‚ä¸Šæ–‡è¯´è¿‡ï¼Œ<code>READ COMMITTED</code>ã€<code>REPEATABLE READ</code>è¿™ä¸¤ç§éš”ç¦»çº§åˆ«ä¹‹ä¸‹ï¼Œ<code>SELECT</code>æ“ä½œé»˜è®¤é‡‡ç”¨MVCCæœºåˆ¶å°±å¯ä»¥äº†ï¼Œå‹æ ¹å„¿ä¸éœ€è¦åŠ é”ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸‡ä¸€æˆ‘å°±æ˜¯æƒ³åŠ é”å‘¢ï¼Ÿ</p><p>ä½ å¯èƒ½ä¼šè¯´ï¼Œâ€œç®€å•å•Šï¼Œé‚£å°±åŠ é”ï¼æŠŠæ•°æ®é”æ­»ï¼é™¤äº†æˆ‘è°ä¹Ÿåˆ«åŠ¨ï¼â€</p><p>å¾ˆå¥½ï¼Œä½†æ˜¯å¯¹äºå¤§éƒ¨åˆ†è¯»â€”è¯»è€Œè¨€ï¼Œç”±äºä¸ä¼šå‡ºç°è¯»ä¸€è‡´æ€§é—®é¢˜ï¼Œæ‰€ä»¥ä¸è®©å…¶ä»–äº‹åŠ¡è¿›è¡Œè¯»æ“ä½œå¹¶ä¸åˆç†ã€‚</p><p>ä½ å¯èƒ½åˆè¯´ï¼Œâ€œé‚£è¡Œå§ï¼Œé‚£å°±è®©è¯»æ“ä½œåŠ é”çš„æ—¶å€™å…è®¸å…¶ä»–äº‹åŠ¡å¯¹é”ä½çš„æ•°æ®è¿›è¡Œè¯»æ“ä½œï¼Œä½†æ˜¯ä¸å…è®¸å†™æ“ä½œã€‚â€</p><p>å—¯ï¼Œæƒ³å¾—ç¡®å®æ›´ç»†è‡´äº†ä¸€äº›ã€‚ä½†æ˜¯å†æƒ³æƒ³æˆ‘ä¸Šæ–‡ä¸­ä¸¾è¿‡çš„é™€èºå­˜é’±çš„ä¾‹å­ï¼Œæœ‰æ—¶å€™<code>SELECT</code>æ“ä½œéœ€è¦ç‹¬å æ•°æ®ï¼Œå…¶ä»–äº‹åŠ¡æ—¢ä¸èƒ½è¯»ï¼Œæ›´ä¸èƒ½å†™ã€‚</p><p><img src="http://qiniu.chanmufeng.com/2022-11-29-084544.jpg" alt="" loading="lazy"></p><p>æˆ‘ä»¬æŠŠè¿™ç§<strong>å…±äº«</strong>å’Œ<strong>æ’ä»–</strong>çš„æ€§è´¨ç§°ä¸ºé”çš„åŸºæœ¬æ¨¡å¼ã€‚</p><h2 id="_5-é”çš„åŸºæœ¬æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_5-é”çš„åŸºæœ¬æ¨¡å¼" aria-hidden="true">#</a> 5. é”çš„åŸºæœ¬æ¨¡å¼</h2><h3 id="_5-1-å…±äº«é”" tabindex="-1"><a class="header-anchor" href="#_5-1-å…±äº«é”" aria-hidden="true">#</a> 5.1. å…±äº«é”</h3><p>å…±äº«é”ï¼ˆShared Lockï¼‰ï¼Œç®€ç§°<code>S</code>é”ï¼Œå¯ä»¥åŒæ—¶è¢«å¤šä¸ªäº‹åŠ¡å…±äº«ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªäº‹åŠ¡ç»™æŸä¸ªæ•°æ®èµ„æºæ·»åŠ äº†<code>S</code>é”ï¼Œå…¶ä»–äº‹åŠ¡ä¹Ÿè¢«å…è®¸è·å–è¯¥æ•°æ®èµ„æºçš„<code>S</code>é”ã€‚</p><p>ç”±äº<code>S</code>é”é€šå¸¸è¢«ç”¨äºè¯»å–æ•°æ®ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸º<strong>è¯»é”</strong>ã€‚</p><p>é‚£æ€ä¹ˆç»™æ•°æ®æ·»åŠ <code>S</code>é”å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>SELECT ... LOCK IN SHARE MODE; </code>çš„æ–¹å¼ï¼Œåœ¨è¯»å–æ•°æ®ä¹‹å‰å°±ä¸ºæ•°æ®æ·»åŠ ä¸€æŠŠ<code>S</code>é”ã€‚å¦‚æœå½“å‰äº‹åŠ¡æ‰§è¡Œäº†è¯¥è¯­å¥ï¼Œé‚£ä¹ˆä¼šä¸ºè¯»å–åˆ°çš„è®°å½•æ·»åŠ <code>S</code>é”ï¼ŒåŒæ—¶å…¶ä»–äº‹åŠ¡ä¹Ÿå¯ä»¥ä½¿ç”¨<code>SELECT ... LOCK IN SHARE MODE; </code>æ–¹å¼ç»§ç»­è·å–è¿™äº›æ•°æ®çš„<code>S</code>é”ã€‚</p><p>æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹çš„ä¾‹å­éªŒè¯ä¸€ä¸‹<code>S</code>é”æ˜¯å¦å¯ä»¥é‡å¤è·å–ã€‚</p><p><img src="http://qiniu.chanmufeng.com/2022-11-30-205448.png" alt="" loading="lazy"></p><h3 id="_5-2-æ’ä»–é”" tabindex="-1"><a class="header-anchor" href="#_5-2-æ’ä»–é”" aria-hidden="true">#</a> 5.2. æ’ä»–é”</h3><p>æ’ä»–é”ï¼ˆExclusive Lockï¼‰ï¼Œç®€ç§°<code>X</code>é”ã€‚åªè¦ä¸€ä¸ªäº‹åŠ¡è·å–äº†æŸæ•°æ®èµ„æºçš„<code>X</code>é”ï¼Œå…¶ä»–çš„äº‹åŠ¡å°±ä¸èƒ½å†è·å–è¯¥æ•°æ®çš„<code>X</code>é”å’Œ<code>S</code>é”ã€‚</p><p>ç”±äº<code>X</code>é”é€šå¸¸è¢«ç”¨äºä¿®æ”¹æ•°æ®ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸º<strong>å†™é”</strong>ã€‚</p><p><code>X</code>é”çš„æ·»åŠ æ–¹å¼æœ‰ä¸¤ç§ï¼Œ</p><ol><li><p>è‡ªåŠ¨æ·»åŠ <code>X</code>é”</p><p>æˆ‘ä»¬å¯¹è®°å½•è¿›è¡Œå¢åˆ æ”¹æ—¶ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¼šè‡ªåŠ¨å¯¹å…¶æ·»åŠ <code>X</code>é”ã€‚</p></li><li><p>æ‰‹åŠ¨åŠ é”</p><p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>SELECT ... FOR UPDATE; </code>çš„æ–¹å¼ï¼Œåœ¨è¯»å–æ•°æ®ä¹‹å‰å°±ä¸ºæ•°æ®æ·»åŠ ä¸€æŠŠ<code>X</code>é”ã€‚å¦‚æœå½“å‰äº‹åŠ¡æ‰§è¡Œäº†è¯¥è¯­å¥ï¼Œé‚£ä¹ˆä¼šä¸ºè¯»å–åˆ°çš„è®°å½•æ·»åŠ <code>X</code>é”ï¼Œè¿™æ ·æ—¢ä¸å…è®¸å…¶ä»–äº‹åŠ¡è·å–è¿™äº›è®°å½•çš„<code>S</code>é”ï¼Œä¹Ÿä¸å…è®¸è·å–è¿™äº›è®°å½•çš„<code>X</code>é”ã€‚</p></li></ol><p>æˆ‘ä»¬ç”¨ä¸‹é¢çš„ä¾‹å­éªŒè¯ä¸€ä¸‹<code>X</code>é”çš„æ’ä»–æ€§ã€‚</p><p><img src="http://qiniu.chanmufeng.com/2022-12-01-005314.png" alt="" loading="lazy"></p><blockquote><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œäº‹åŠ¡æäº¤æˆ–ç»“æŸäº‹åŠ¡æ—¶ï¼Œé”ä¼šè¢«é‡Šæ”¾ã€‚</p></blockquote><h2 id="_6-æ„å‘é”" tabindex="-1"><a class="header-anchor" href="#_6-æ„å‘é”" aria-hidden="true">#</a> 6. æ„å‘é”</h2><h3 id="_6-1-èƒŒæ™¯" tabindex="-1"><a class="header-anchor" href="#_6-1-èƒŒæ™¯" aria-hidden="true">#</a> 6.1. èƒŒæ™¯</h3><p>å‰é¢æåˆ°çš„<code>S</code>é”å’Œ<code>X</code>é”çš„è¯­æ³•è§„åˆ™å…¶å®æ˜¯é’ˆå¯¹è®°å½•çš„ï¼Œä¹Ÿå°±æ˜¯è¡Œé”ï¼ŒåŸå› æ˜¯InnoDBä¸­è¡Œé”ç”¨çš„æœ€å¤šã€‚å¦‚æœå°†é”çš„ç²’åº¦å’Œé”çš„åŸºæœ¬æ¨¡å¼æ’åˆ—ç»„åˆä¸€ä¸‹ï¼Œå°±ä¼šå‡ºç°å¦‚ä¸‹4ç§æƒ…å†µï¼š</p><ul><li>è¡Œçº§<code>S</code>é”</li><li>è¡Œçº§<code>X</code>é”</li><li>è¡¨çº§<code>S</code>é”</li><li>è¡¨çº§<code>X</code>é”</li></ul><p>é‚£ä¹ˆæ¥ä¸‹æ¥çš„æè¿°ï¼Œä¹Ÿå°±é¡ºç†æˆç« äº†ã€‚</p><p>å¦‚æœäº‹åŠ¡ç»™ä¸€ä¸ªè¡¨æ·»åŠ äº†è¡¨çº§<code>S</code>é”ï¼Œåˆ™ï¼š</p><ul><li>å…¶ä»–äº‹åŠ¡å¯ä»¥ç»§ç»­è·å¾—è¯¥è¡¨çš„<code>S</code>é”ï¼Œä½†æ˜¯æ— æ³•è·å–è¯¥è¡¨çš„<code>X</code>é”ï¼›</li><li>å…¶ä»–äº‹åŠ¡å¯ä»¥ç»§ç»­è·å¾—è¯¥è¡¨æŸäº›è¡Œçš„<code>S</code>é”ï¼Œä½†æ˜¯æ— æ³•è·å–è¯¥è¡¨æŸäº›è¡Œçš„<code>X</code>é”ã€‚</li></ul><p>å¦‚æœäº‹åŠ¡ç»™ä¸€ä¸ªè¡¨æ·»åŠ äº†è¡¨çº§<code>X</code>é”ï¼Œåˆ™ï¼š</p><ul><li>ä¸è®ºæ˜¯è¯¥è¡¨çš„<code>S</code>é”ã€<code>X</code>é”ï¼Œè¿˜æ˜¯è¯¥è¡¨æŸäº›è¡Œçš„<code>S</code>é”ã€<code>X</code>é”ï¼Œå…¶ä»–äº‹åŠ¡éƒ½åªèƒ½å¹²çªçœ¼å„¿ï¼Œå•¥ä¹Ÿè·å–ä¸äº†ã€‚</li></ul><p>æŒºå¥½ç†è§£çš„å§ï¼Œæ€»ä¹‹å°±æ˜¯<strong>Sé”åªèƒ½å’ŒSé”ç›¸å®¹ï¼ŒXé”å’Œå…¶ä»–ä»»ä½•é”éƒ½äº’æ–¥</strong>ã€‚é—®é¢˜æ¥äº†ï¼Œè™½ç„¶ç”¨çš„ä¸å¤šï¼Œä½†æ˜¯ä¸‡ä¸€æˆ‘çœŸçš„æƒ³ç»™æ•´ä¸ªè¡¨æ·»åŠ ä¸€ä¸ª<code>S</code>é”æˆ–è€…<code>X</code>é”æ€ä¹ˆåŠï¼Ÿ</p><p>å‡å¦‚æˆ‘è¦ç»™è¡¨<code>user</code>æ·»åŠ ä¸€ä¸ª<code>S</code>é”ï¼Œé‚£å°±å¿…é¡»ä¿è¯<code>user</code>åœ¨è¡¨çº§åˆ«ä¸Šå’Œè¡Œçº§åˆ«ä¸Šéƒ½ä¸èƒ½æœ‰<code>X</code>é”ï¼Œè¡¨çº§åˆ«ä¸Šè¿˜å¥½è¯´ä¸€ç‚¹ï¼Œæ— éå°±æ˜¯1ä¸ªå†…å­˜ç»“æ„ç½¢äº†ï¼Œä½†æ˜¯è¡Œ<code>X</code>é”å‘¢ï¼Ÿå¿…é¡»å¾—é€è¡Œéå†æ˜¯å¦æœ‰è¡Œ<code>X</code>é”å—ï¼Ÿ</p><p>åŒç†ï¼Œå‡å¦‚æˆ‘è¦ç»™è¡¨<code>user</code>æ·»åŠ ä¸€ä¸ª<code>X</code>é”ï¼Œé‚£å°±å¿…é¡»ä¿è¯<code>user</code>åœ¨è¡¨çº§åˆ«ä¸Šå’Œè¡Œçº§åˆ«ä¸Šéƒ½ä¸èƒ½æœ‰ä»»ä½•é”ï¼ˆ<code>S</code>å’Œ<code>X</code>éƒ½ä¸èƒ½æœ‰ï¼‰ï¼Œéš¾ä¸æˆå¾—é€è¡Œéå†æ˜¯å¦æœ‰<code>S</code>æˆ–<code>X</code>é”å—ï¼Ÿ</p><p>éå†æ˜¯ä¸å¯èƒ½éå†çš„ï¼è¿™è¾ˆå­éƒ½ä¸å¯èƒ½éå†çš„ï¼äºæ˜¯ï¼Œ<strong>æ„å‘é”</strong>ï¼ˆIntension Lockï¼‰è¯ç”Ÿäº†ã€‚</p><h3 id="_6-2-æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_6-2-æ¦‚å¿µ" aria-hidden="true">#</a> 6.2. æ¦‚å¿µ</h3><p>æˆ‘ä»¬è¦é¿å…éå†ï¼Œé‚£æœ€å¥½çš„åŠæ³•å°±æ˜¯åœ¨ç»™è¡ŒåŠ é”æ—¶ï¼Œå…ˆåœ¨è¡¨çº§åˆ«ä¸Šæ·»åŠ ä¸€ä¸ªæ ‡è¯†ã€‚</p><ul><li>æ„å‘å…±äº«é”ï¼ˆIntension Shared Lockï¼‰ï¼šç®€ç§°<code>IS</code>é”ï¼Œå½“äº‹åŠ¡è¯•å›¾ç»™è¡Œæ·»åŠ <code>S</code>é”æ—¶ï¼Œéœ€è¦å…ˆåœ¨è¡¨çº§åˆ«ä¸Šæ·»åŠ ä¸€ä¸ª<code>IS</code>é”ï¼›</li><li>æ„å‘æ’ä»–é”ï¼ˆIntension Exclusive Lockï¼‰ï¼šç®€ç§°<code>IX</code>é”ï¼Œå½“äº‹åŠ¡è¯•å›¾ç»™è¡Œæ·»åŠ <code>X</code>é”æ—¶ï¼Œéœ€è¦å…ˆåœ¨è¡¨çº§åˆ«ä¸Šæ·»åŠ ä¸€ä¸ª<code>IX</code>é”ã€‚</li></ul><p>è¿™æ ·ä¸€æ¥ï¼š</p><ul><li>å¦‚æœæƒ³ç»™<code>user</code>è¡¨æ·»åŠ ä¸€ä¸ª<code>S</code>é”ï¼ˆè¡¨çº§é”ï¼‰ï¼Œå°±å…ˆçœ‹ä¸€ä¸‹<code>user</code>è¡¨æœ‰æ²¡æœ‰<code>IX</code>é”ï¼›å¦‚æœæœ‰ï¼Œå°±è¯´æ˜<code>user</code>è¡¨çš„æŸäº›è¡Œè¢«åŠ äº†<code>X</code>é”ï¼ˆè¡Œé”ï¼‰ï¼Œéœ€è¦ç­‰åˆ°è¡Œçš„<code>X</code>é”é‡Šæ”¾ï¼Œéšå³<code>IX</code>é”è¢«é‡Šæ”¾ï¼Œæ‰å¯ä»¥åœ¨<code>user</code>è¡¨ä¸­æ·»åŠ <code>S</code>é”ï¼›</li><li>å¦‚æœæƒ³ç»™<code>user</code>è¡¨æ·»åŠ ä¸€ä¸ª<code>X</code>é”ï¼ˆè¡¨çº§é”ï¼‰ï¼Œå°±å…ˆçœ‹ä¸€ä¸‹<code>user</code>æœ‰æ²¡æœ‰<code>IS</code>é”æˆ–<code>IX</code>é”ï¼›å¦‚æœæœ‰ï¼Œå°±è¯´æ˜<code>user</code>è¡¨çš„æŸäº›è¡Œè¢«åŠ äº†<code>S</code>é”æˆ–<code>X</code>é”ï¼ˆè¡Œé”ï¼‰ï¼Œéœ€è¦ç­‰åˆ°æ‰€æœ‰è¡Œé”è¢«é‡Šæ”¾ï¼Œéšå³<code>IS</code>é”æˆ–<code>IX</code>é”è¢«é‡Šæ”¾ï¼Œæ‰å¯ä»¥åœ¨<code>user</code>è¡¨ä¸­æ·»åŠ <code>X</code>é”ã€‚</li></ul><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ„å‘é”å’Œæ„å‘é”ä¹‹é—´æ˜¯ä¸å†²çªçš„ï¼Œæ„å‘é”å’Œè¡Œé”ä¹‹é—´ä¹Ÿä¸å†²çªã€‚</p><p>åªæœ‰åœ¨å¯¹è¡¨æ·»åŠ <code>S</code>é”æˆ–<code>X</code>é”æ—¶æ‰éœ€è¦åˆ¤æ–­å½“å‰è¡¨æ˜¯å¦è¢«æ·»åŠ äº†<code>IS</code>é”æˆ–<code>IX</code>é”ï¼Œå½“ä¸ºè¡¨æ·»åŠ <code>IS</code>é”æˆ–<code>IX</code>é”æ—¶ï¼Œä¸éœ€è¦å…³å¿ƒå½“å‰è¡¨æ˜¯å¦å·²ç»è¢«æ·»åŠ äº†å…¶ä»–<code>IS</code>é”æˆ–<code>IX</code>é”ã€‚</p></blockquote><p>ç›®å‰ä¸ºæ­¢MySQLé”çš„åŸºæœ¬æ¨¡å¼å°±ä»‹ç»å®Œäº†ï¼Œæ¥ä¸‹æ¥å›åˆ°è¿™ç‰‡æ–‡ç« çš„é¢˜ç›®ï¼ŒMySQLé”ï¼Œé”ä½çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿç”±äºInnoDBçš„è¡Œé”ç”¨çš„æœ€å¤šï¼Œè¿™é‡Œçš„é”è‡ªç„¶æŒ‡çš„æ˜¯è¡Œé”ã€‚</p><h2 id="_7-è¡Œé”çš„åŸç†" tabindex="-1"><a class="header-anchor" href="#_7-è¡Œé”çš„åŸç†" aria-hidden="true">#</a> 7. è¡Œé”çš„åŸç†</h2><p>æ—¢ç„¶éƒ½å«è¡Œé”äº†ï¼Œæˆ‘ä»¬å§‘ä¸”çŒœæµ‹ä¸€ä¸‹ï¼Œè¡Œé”é”ä½çš„æ˜¯ä¸€è¡Œæ•°æ®ã€‚æˆ‘ä»¬åšä¸ªå®éªŒã€‚</p><h3 id="_7-1-æ²¡æœ‰ä»»ä½•ç´¢å¼•çš„è¡¨" tabindex="-1"><a class="header-anchor" href="#_7-1-æ²¡æœ‰ä»»ä½•ç´¢å¼•çš„è¡¨" aria-hidden="true">#</a> 7.1. æ²¡æœ‰ä»»ä½•ç´¢å¼•çš„è¡¨</h3><p>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€å¼ æ²¡æœ‰ä»»ä½•ç´¢å¼•çš„æ™®é€šè¡¨ï¼Œè¯­å¥å¦‚ä¸‹</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>CREATE TABLE `user_t1` (
  `id` int DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¡¨ä¸­æ•°æ®å¦‚ä¸‹ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql&gt; SELECT * FROM user_t1;
+------+-------------+
| id   | name        |
+------+-------------+
|    1 | chanmufeng  |
|    2 | wanggangdan |
|    3 | wangshangju |
|    4 | zhaotiechui |
+------+-------------+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ä¸¤ä¸ªsessionä¸­å¼€å¯ä¸¤ä¸ªäº‹åŠ¡ã€‚</p><ul><li>äº‹åŠ¡1ï¼Œæˆ‘ä»¬é€šè¿‡<code>WHERE id = 1</code>â€œé”ä½â€ç¬¬1è¡Œæ•°æ®ï¼›</li><li>äº‹åŠ¡2ï¼Œæˆ‘ä»¬é€šè¿‡<code>WHERE id = 2</code>&quot;é”ä½&quot;ç¬¬2è¡Œæ•°æ®ã€‚</li></ul><p><img src="http://qiniu.chanmufeng.com/2022-12-02-083954.png" alt="" loading="lazy"></p><p>ä¸€ä»¶è¯¡å¼‚çš„äº‹æƒ…æ˜¯ï¼Œç¬¬2ä¸ªåŠ é”çš„æ“ä½œè¢«é˜»å¡äº†ã€‚å®é™…ä¸Šï¼Œ<code>T2</code>ä¸­ä¸ç®¡æˆ‘ä»¬è¦ç»™<code>user_t1</code>ä¸­å“ªè¡Œæ•°æ®åŠ é”ï¼Œéƒ½ä¼šå¤±è´¥ï¼</p><p>ä¸ºä»€ä¹ˆæˆ‘<code>SELECT</code>ä¸€æ¡æ•°æ®ï¼Œå´ç»™æˆ‘é”ä½äº†æ•´ä¸ªè¡¨ï¼Ÿè¿™ä¸ªå®éªŒç›´æ¥æ¨ç¿»äº†æˆ‘ä»¬çš„çŒœæµ‹ï¼Œ<strong>InnoDBçš„è¡Œé”å¹¶éç›´æ¥é”å®šRecordè¡Œ</strong>ã€‚</p><p>ä¸ºä»€ä¹ˆæ²¡æœ‰ç´¢å¼•çš„æƒ…å†µä¸‹ï¼Œç»™æŸæ¡è¯­å¥åŠ é”ä¼šé”ä½æ•´ä¸ªè¡¨å‘¢ï¼Ÿåˆ«æ€¥ï¼Œæˆ‘ä»¬ç»§ç»­ã€‚</p><h3 id="_7-2-æœ‰ä¸»é”®ç´¢å¼•çš„è¡¨" tabindex="-1"><a class="header-anchor" href="#_7-2-æœ‰ä¸»é”®ç´¢å¼•çš„è¡¨" aria-hidden="true">#</a> 7.2. æœ‰ä¸»é”®ç´¢å¼•çš„è¡¨</h3><p>æˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªè¡¨<code>user_t2</code>ï¼Œè¯­å¥å¦‚ä¸‹ï¼š</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>CREATE TABLE `user_t2` (
	`id` int NOT NULL,
	`name` varchar(255) DEFAULT NULL,
	PRIMARY KEY (`id`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å’Œ<code>user_t1</code>çš„ä¸åŒä¹‹å¤„åœ¨äºä¸º<code>id</code>åˆ›å»ºäº†ä¸€ä¸ªä¸»é”®ç´¢å¼•ã€‚è¡¨ä¸­æ•°æ®ä¾ç„¶å¦‚ä¸‹ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql&gt; SELECT * FROM user_t2;
+------+-------------+
| id   | name        |
+------+-------------+
|    1 | chanmufeng  |
|    2 | wanggangdan |
|    3 | wangshangju |
|    4 | zhaotiechui |
+------+-------------+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ ·å¼€å¯ä¸¤ä¸ªäº‹åŠ¡ï¼š</p><ul><li>äº‹åŠ¡1ï¼Œé€šè¿‡<code>WHERE id = 1</code>â€œé”ä½â€ç¬¬1è¡Œæ•°æ®ï¼›</li><li>äº‹åŠ¡2 <ul><li>ä¾ç„¶ä½¿ç”¨<code>WHERE id = 1</code>å°è¯•åŠ é”ï¼ŒåŠ é”å¤±è´¥ï¼›</li><li>ä½¿ç”¨<code>WHERE id = 2</code>å°è¯•åŠ é”ï¼ŒåŠ é”æˆåŠŸã€‚</li></ul></li></ul><p><img src="http://qiniu.chanmufeng.com/2022-12-02-110126.png" alt="" loading="lazy"></p><p>æ—¢ç„¶é”çš„ä¸æ˜¯Recordè¡Œï¼Œéš¾ä¸æˆé”çš„æ˜¯<code>id</code>è¿™ä¸€åˆ—å—ï¼Ÿ</p><p>æˆ‘ä»¬å†åšæœ€åä¸€ä¸ªå®éªŒã€‚</p><h3 id="_7-3-æœ‰å”¯ä¸€ç´¢å¼•çš„è¡¨" tabindex="-1"><a class="header-anchor" href="#_7-3-æœ‰å”¯ä¸€ç´¢å¼•çš„è¡¨" aria-hidden="true">#</a> 7.3. æœ‰å”¯ä¸€ç´¢å¼•çš„è¡¨</h3><p>æˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªè¡¨<code>user_t3</code>ï¼Œè¯­å¥å¦‚ä¸‹ï¼š</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>CREATE TABLE `user_t3` (
	`id` int NOT NULL,
	`name` varchar(255) DEFAULT NULL,
	PRIMARY KEY (`id`),
  UNIQUE KEY (`uk_name`) (`name`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å’Œ<code>user_t2</code>çš„ä¸åŒä¹‹å¤„åœ¨äºä¸º<code>name</code>åˆ—åˆ›å»ºäº†ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ã€‚è¡¨ä¸­æ•°æ®ä¾ç„¶å¦‚ä¸‹ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql&gt; SELECT * FROM user_t3;
+------+-------------+
| id   | name        |
+------+-------------+
|    1 | chanmufeng  |
|    2 | wanggangdan |
|    3 | wangshangju |
|    4 | zhaotiechui |
+------+-------------+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://qiniu.chanmufeng.com/2022-12-02-111844.png" alt="" loading="lazy"></p><p>ä¸¤ä¸ªäº‹åŠ¡ï¼š</p><ul><li>äº‹åŠ¡1ï¼Œé€šè¿‡<code>name</code>å­—æ®µ â€œé”ä½â€<code>name</code>ä¸ºâ€œchanmufengâ€çš„æ•°æ®ï¼›</li><li>äº‹åŠ¡2 <ul><li>ä¾ç„¶ä½¿ç”¨<code>WHERE name = â€œchanmufengâ€</code> å°è¯•åŠ é”ï¼Œå¯ä»¥é¢„æ–™ï¼ŒåŠ é”å¤±è´¥ï¼›</li><li>ä½¿ç”¨<code>WHERE id = 1</code>å°è¯•ç»™åŒæ ·çš„è¡ŒåŠ é”ï¼ŒåŠ é”å¤±è´¥ã€‚</li></ul></li></ul><p>é€šè¿‡3ä¸ªå®éªŒæˆ‘ä»¬å‘ç°ï¼Œè¡Œé”é”ä½çš„æ—¢ä¸æ˜¯Recordè¡Œï¼Œä¹Ÿä¸æ˜¯Columnåˆ—ï¼Œé‚£åˆ°åº•é”ä½çš„æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹ï¼Œä¸Šæ–‡çš„3å¼ è¡¨çš„ä¸åŒç‚¹åœ¨äºç´¢å¼•ä¸åŒï¼Œå…¶å®<strong>InnoDBçš„è¡Œé”ï¼Œå°±æ˜¯é€šè¿‡é”ä½ç´¢å¼•æ¥å®ç°çš„</strong>ã€‚</p><p>ç´¢å¼•æ˜¯ä¸ªå•¥ï¼Ÿå†ç»™ä½ æ¨èä¸€ä¸‹æˆ‘ä¹‹å‰å†™çš„æ–‡ç« ï¼Œ</p><ul><li><p><a href="https://mp.weixin.qq.com/s?__biz=MzI1MDU0MTc2MQ==&amp;mid=2247484235&amp;idx=1&amp;sn=d0a8ae41c280de196f8f439561928f3f&amp;chksm=e981e0e5def669f386ca16ee67c3658df8f2650bc74e1ee56d46ae0afc42a8cf8ae9d0b09f76&amp;token=785479943&amp;lang=zh_CN#rd" target="_blank" rel="noopener noreferrer">å›¾è§£ï½œ12å¼ å›¾è§£é‡ŠMySQLä¸»é”®æŸ¥è¯¢ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p><a href="https://mp.weixin.qq.com/s?__biz=MzI1MDU0MTc2MQ==&amp;mid=2247484276&amp;idx=1&amp;sn=7feb868c19cbd9cce40d7818366e797a&amp;chksm=e981e0dadef669cc58975ec582f530f60f0120405121a09082c260e1cf596204242c2b6bb4da#rd" target="_blank" rel="noopener noreferrer">å›¾è§£ï½œè¿™æ¬¡ï¼Œå½»åº•ç†è§£MySQLçš„ç´¢å¼•<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li></ul><p>æ¥ä¸‹æ¥å›ç­”3ä¸ªé—®é¢˜ã€‚</p><h2 id="_8-ä¸‰ä¸ªé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_8-ä¸‰ä¸ªé—®é¢˜" aria-hidden="true">#</a> 8. ä¸‰ä¸ªé—®é¢˜</h2><h3 id="_8-1-é”ä½ç´¢å¼•-æ²¡æœ‰ç´¢å¼•æ€ä¹ˆåŠ" tabindex="-1"><a class="header-anchor" href="#_8-1-é”ä½ç´¢å¼•-æ²¡æœ‰ç´¢å¼•æ€ä¹ˆåŠ" aria-hidden="true">#</a> 8.1. é”ä½ç´¢å¼•ï¼Ÿæ²¡æœ‰ç´¢å¼•æ€ä¹ˆåŠï¼Ÿ</h3><p>ä½ è¯´é”ä½ç´¢å¼•ï¼Ÿå¦‚æœæˆ‘ä¸åˆ›å»ºç´¢å¼•ï¼ŒMySQLé”å®šä¸ªå•¥ï¼Ÿ</p><p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰è®¾ç½®ä¸»é”®ï¼ŒInnoDBä¼šä¼˜å…ˆé€‰å–ä¸€ä¸ªä¸åŒ…å«NULLå€¼çš„<code>Uniqueé”®</code>ä½œä¸ºä¸»é”®ï¼Œå¦‚æœè¡¨ä¸­è¿<code>Uniqueé”®</code>ä¹Ÿæ²¡æœ‰çš„è¯ï¼Œå°±ä¼šè‡ªåŠ¨ä¸ºæ¯ä¸€æ¡è®°å½•æ·»åŠ ä¸€ä¸ªå«åš<code>DB_ROW_ID</code>çš„åˆ—ä½œä¸ºé»˜è®¤ä¸»é”®ï¼Œåªä¸è¿‡è¿™ä¸ªä¸»é”®æˆ‘ä»¬çœ‹ä¸åˆ°ç½¢äº†ã€‚</p><p>ä¸‹å›¾æ˜¯æ•°æ®çš„è¡Œæ ¼å¼ã€‚çœ‹ä¸æ‡‚çš„è¯å¼ºçƒˆæ¨èçœ‹ä¸€ä¸‹æˆ‘ä¸Šé¢ç»™å‡ºçš„ä¸¤ç¯‡æ–‡ç« ï¼Œè¯´å¾—éå¸¸æ˜ç™½ã€‚</p><p><img src="http://qiniu.chanmufeng.com/2022-12-02-113532.png" alt="" loading="lazy"></p><h3 id="_8-2-ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªå®éªŒä¼šé”è¡¨" tabindex="-1"><a class="header-anchor" href="#_8-2-ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªå®éªŒä¼šé”è¡¨" aria-hidden="true">#</a> 8.2. ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªå®éªŒä¼šé”è¡¨ï¼Ÿ</h3><p>å› ä¸º<code>SELECT</code>æ²¡æœ‰ç”¨åˆ°ç´¢å¼•ï¼Œä¼šè¿›è¡Œå…¨è¡¨æ‰«æï¼Œç„¶åæŠŠ<code>DB_ROW_ID</code>ä½œä¸ºé»˜è®¤ä¸»é”®çš„èšç°‡ç´¢å¼•éƒ½ç»™é”ä½äº†ã€‚</p><h3 id="_8-3-ä¸ºä»€ä¹ˆé€šè¿‡å”¯ä¸€ç´¢å¼•ç»™æ•°æ®åŠ é”-ä¸»é”®ç´¢å¼•ä¹Ÿä¼šè¢«é”ä½" tabindex="-1"><a class="header-anchor" href="#_8-3-ä¸ºä»€ä¹ˆé€šè¿‡å”¯ä¸€ç´¢å¼•ç»™æ•°æ®åŠ é”-ä¸»é”®ç´¢å¼•ä¹Ÿä¼šè¢«é”ä½" aria-hidden="true">#</a> 8.3. ä¸ºä»€ä¹ˆé€šè¿‡å”¯ä¸€ç´¢å¼•ç»™æ•°æ®åŠ é”ï¼Œä¸»é”®ç´¢å¼•ä¹Ÿä¼šè¢«é”ä½ï¼Ÿ</h3><p>ä¸ç®¡æ˜¯<code>Unique</code>ç´¢å¼•è¿˜æ˜¯æ™®é€šç´¢å¼•ï¼Œå®ƒä»¬çš„å¶å­ç»“ç‚¹ä¸­å­˜å‚¨çš„æ•°æ®éƒ½ä¸å®Œæ•´ï¼Œå…¶ä¸­åªæ˜¯å­˜å‚¨äº†ä½œä¸ºç´¢å¼•å¹¶ä¸”æ’åºå¥½çš„åˆ—æ•°æ®ä»¥åŠå¯¹åº”çš„ä¸»é”®å€¼ã€‚</p><p>å› æ­¤æˆ‘ä»¬é€šè¿‡ç´¢å¼•æŸ¥æ‰¾æ•°æ®æ•°æ®å®é™…ä¸Šæ˜¯åœ¨ç´¢å¼•çš„B+æ ‘ä¸­å…ˆæ‰¾åˆ°å¯¹åº”çš„ä¸»é”®ï¼Œç„¶åæ ¹æ®ä¸»é”®å†å»ä¸»é”®ç´¢å¼•çš„B+æ ‘çš„å¶å­ç»“ç‚¹ä¸­æ‰¾åˆ°å®Œæ•´æ•°æ®ï¼Œæœ€åè¿”å›ã€‚æ‰€ä»¥è™½ç„¶æ˜¯ä¸¤ä¸ªç´¢å¼•æ ‘ï¼Œä½†å®é™…ä¸Šæ˜¯åŒä¸€è¡Œæ•°æ®ï¼Œå¿…é¡»å…¨éƒ¨é”ä½ã€‚</p><p>ä¸‹é¢ç»™äº†ä¸€å¼ å›¾ï¼Œè®©ä¸äº†è§£ç´¢å¼•çš„æœ‹å‹å¤§è‡´äº†è§£ä¸€ä¸‹ã€‚ä¸ŠåŠéƒ¨åˆ†æ˜¯<code>name</code>åˆ—åˆ›å»ºçš„å”¯ä¸€ç´¢å¼•çš„B+æ ‘ï¼Œä¸‹åŠéƒ¨åˆ†æ˜¯ä¸»é”®ç´¢å¼•ï¼ˆä¹Ÿå«èšç°‡ç´¢å¼•ï¼‰ã€‚</p><p>å‡å¦‚æˆ‘ä»¬é€šè¿‡<code>WHERE name = &#39;ç‹é’¢è›‹&#39;</code>å¯¹æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼Œä¼šå…ˆç”¨åˆ°<code>name</code>åˆ—çš„å”¯ä¸€ç´¢å¼•ï¼Œæœ€ç»ˆå®šä½åˆ°ä¸»é”®å€¼ä¸º<code>1</code>ï¼Œç„¶åå†åˆ°ä¸»é”®ç´¢å¼•ä¸­æŸ¥è¯¢<code>id = 1</code>çš„æ•°æ®ï¼Œæœ€ç»ˆæ‹¿åˆ°å®Œæ•´çš„è¡Œæ•°æ®ã€‚</p><blockquote><p>è¿™ä¸¤å¼ å›¾åœ¨æˆ‘ç´¢å¼•æ–‡ç« ä¸­éƒ½æœ‰å“¦ï½</p></blockquote><p><img src="http://qiniu.chanmufeng.com/2022-12-02-120718.png" alt="" loading="lazy"></p><h2 id="_9-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_9-æ€»ç»“" aria-hidden="true">#</a> 9. æ€»ç»“</h2><p>è‡³æ­¤ï¼Œæˆ‘å·²ç»å›ç­”äº†æ–‡ç« å¼€å¤´çš„ç»å¤§å¤šæ•°é—®é¢˜ã€‚</p><p>MySQLé”ï¼Œæ˜¯è§£å†³èµ„æºç«äº‰é—®é¢˜çš„ä¸€ç§æ‰‹æ®µã€‚æœ‰å“ªäº›ç«äº‰å‘¢ï¼Ÿè¯»â€”å†™/å†™â€”è¯»ï¼Œå†™â€”å†™ä¸­éƒ½ä¼šå‡ºç°èµ„æºç«äº‰é—®é¢˜ï¼Œä¸åŒçš„æ˜¯å‰è€…å¯ä»¥é€šè¿‡MVCCçš„æ–¹å¼æ¥è§£å†³ï¼Œä½†æ˜¯æŸäº›æƒ…å†µä¸‹ä½ ä¹Ÿä¸å¾—ä¸ç”¨é”ï¼Œå› æ­¤æˆ‘ä¹Ÿé¡ºä¾¿è§£é‡Šäº†é”å’ŒMVCCçš„å…³ç³»ã€‚</p><p>ç„¶åä»‹ç»äº†MySQLé”çš„åŸºæœ¬æ¨¡å¼ï¼ŒåŒ…æ‹¬å…±äº«é”ï¼ˆ<code>S</code>é”ï¼‰å’Œæ’ä»–é”ï¼ˆ<code>X</code>é”ï¼‰ï¼Œè¿˜å¼•å…¥äº†æ„å‘é”ã€‚</p><p>æœ€åè§£é‡Šäº†é”åˆ°åº•é”çš„æ˜¯ä»€ä¹ˆçš„é—®é¢˜ã€‚é€šè¿‡3ä¸ªå®éªŒï¼Œæœ€ç»ˆè§£é‡Šäº†InnoDBé”æœ¬è´¨ä¸Šé”çš„æ˜¯ç´¢å¼•ã€‚</p><p>æœ¬æ–‡å¹¶æ²¡æœ‰ä»‹ç»MySQLä¸­å…·ä½“çš„é”ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•è§£å†³èµ„æºç«äº‰çš„ï¼Œæ¯”å¦‚<a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-record-locks" target="_blank" rel="noopener noreferrer">Record Locks<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€<a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-gap-locks" target="_blank" rel="noopener noreferrer">Gap Locks<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€<a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html#innodb-next-key-locks" target="_blank" rel="noopener noreferrer">Next-Key Locks<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ç­‰ï¼Œæ›´ç»†èŠ‚çš„å†…å®¹ä¸‹æœŸè§å–½ï½</p></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/12/26 14:03:21</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: zhaoxaolong@163.com">chanmufeng</span>,<!--]--><!--[--><span class="contributor" title="email: Wtwan521">zhaoxiaolong</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/posts/storage/MySQL/%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E6%80%A7%E4%B8%8EMVCC.html" class="nav-link prev" aria-label="äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="icon iconfont icon-creative"></span>äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC</div></a><!----></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href='https://beian.miit.gov.cn/'>é²ICPå¤‡20023913å·</a></div><div class="copyright">Copyright Â© 2023 è‰æ²é£</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.9190407f.js" defer></script>
  </body>
</html>
