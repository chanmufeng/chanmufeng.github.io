<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.49" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://www.chanmufeng.com/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html"><meta property="og:site_name" content="è‰æ²é£"><meta property="og:title" content="ä¸€æ¡UPDATEè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-08-03T06:14:46.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="MySQL"><meta property="article:tag" content="UPDATE"><meta property="article:published_time" content="2022-02-05T00:00:00.000Z"><meta property="article:modified_time" content="2022-08-03T06:14:46.000Z"><script>
                var _hmt = _hmt || [];
                (function() {
                  var hm = document.createElement("script");
                  hm.src = "https://hm.baidu.com/hm.js?dfa689801ccd10bd283b50ea146430f3";
                  var s = document.getElementsByTagName("script")[0]; 
                  s.parentNode.insertBefore(hm, s);
                })();
            </script><title>ä¸€æ¡UPDATEè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ | è‰æ²é£</title><meta name="description" content="Chanmufeng's Personal Website">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.305841ad.css">
    <link rel="modulepreload" href="/assets/app.e63a78e2.js"><link rel="modulepreload" href="/assets/ä¸€æ¡Updateè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„.html.794cb050.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/ä¸€æ¡Updateè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„.html.8736dea8.js"><link rel="prefetch" href="/assets/index.html.f40aab20.js"><link rel="prefetch" href="/assets/home.html.4311fb4f.js"><link rel="prefetch" href="/assets/update.html.cf0bfa19.js"><link rel="prefetch" href="/assets/index.html.bc679553.js"><link rel="prefetch" href="/assets/index.html.42b16337.js"><link rel="prefetch" href="/assets/disable.html.a298796c.js"><link rel="prefetch" href="/assets/encrypt.html.04234872.js"><link rel="prefetch" href="/assets/markdown.html.c40cf8e1.js"><link rel="prefetch" href="/assets/JVMåˆ°åº•è¯¥å­¦ä¹ äº›ä»€ä¹ˆ.html.37a1cd31.js"><link rel="prefetch" href="/assets/index.html.bdb8aaf2.js"><link rel="prefetch" href="/assets/æˆ‘æ˜¯ä¸€ä¸ªåƒåœ¾.html.396cd500.js"><link rel="prefetch" href="/assets/CPUæµæ°´çº¿ä¸æŒ‡ä»¤é‡æ’åº.html.da7853a1.js"><link rel="prefetch" href="/assets/index.html.9cfc822d.js"><link rel="prefetch" href="/assets/ç”¨ã€Œé—ªç”µä¾ ã€è§£é‡Šä¸€ä¸‹è¿›ç¨‹å’Œçº¿ç¨‹.html.9c93b056.js"><link rel="prefetch" href="/assets/ç¼“å­˜ä¸€è‡´æ€§ä¸å†…å­˜å±éšœ.html.51552874.js"><link rel="prefetch" href="/assets/6ç§socketæ•°æ®ç»“æ„.html.a32c2f08.js"><link rel="prefetch" href="/assets/Datagram-Sockets.html.1cf61bae.js"><link rel="prefetch" href="/assets/IP.html.e2261b17.js"><link rel="prefetch" href="/assets/IPv4-IPv6.html.5d54177a.js"><link rel="prefetch" href="/assets/IPä¸äºŒè¿›åˆ¶è½¬æ¢.html.372ae625.js"><link rel="prefetch" href="/assets/index.html.05732729.js"><link rel="prefetch" href="/assets/accept.html.b927effc.js"><link rel="prefetch" href="/assets/bind.html.df85cbfd.js"><link rel="prefetch" href="/assets/blocking.html.4d881635.js"><link rel="prefetch" href="/assets/broadcast-packets.html.ba9a114f.js"><link rel="prefetch" href="/assets/client-server.html.13e88bfc.js"><link rel="prefetch" href="/assets/close-shutdown.html.4bf70c89.js"><link rel="prefetch" href="/assets/connect.html.d33da992.js"><link rel="prefetch" href="/assets/getaddrinfo.html.799dc1fa.js"><link rel="prefetch" href="/assets/gethostname.html.e927427f.js"><link rel="prefetch" href="/assets/getpeername.html.ec75ccd0.js"><link rel="prefetch" href="/assets/listen.html.6e31d10d.js"><link rel="prefetch" href="/assets/network-programming.html.287d3b4f.js"><link rel="prefetch" href="/assets/poll.html.7f3e913d.js"><link rel="prefetch" href="/assets/send-recv.html.4c0bca19.js"><link rel="prefetch" href="/assets/sendto-recvfrom.html.68ba7ae7.js"><link rel="prefetch" href="/assets/slightly-advanced-tech.html.5d4b31cb.js"><link rel="prefetch" href="/assets/socket.html.c7c684e6.js"><link rel="prefetch" href="/assets/socketç¼–ç¨‹ç›¸å…³å‡½æ•°.html.a9f6084a.js"><link rel="prefetch" href="/assets/stream-client-sample.html.5f2dafdf.js"><link rel="prefetch" href="/assets/stream-server-sample.html.19ea75cb.js"><link rel="prefetch" href="/assets/ä¸¤ç§Internet-Socket.html.034cc342.js"><link rel="prefetch" href="/assets/ä»€ä¹ˆæ˜¯socket.html.cad0e608.js"><link rel="prefetch" href="/assets/ä»IPv4è¿ç§»åˆ°IPv6.html.7bc58e63.js"><link rel="prefetch" href="/assets/å­—èŠ‚åº.html.d1cc9264.js"><link rel="prefetch" href="/assets/æ¼«è°ˆç½‘ç»œ.html.f4ee65c5.js"><link rel="prefetch" href="/assets/index.html.0a6236b7.js"><link rel="prefetch" href="/assets/ä»€ä¹ˆæ˜¯æ–‡ä»¶æè¿°ç¬¦.html.804cd066.js"><link rel="prefetch" href="/assets/index.html.1f5ae493.js"><link rel="prefetch" href="/assets/åŠ¨æ€ä»£ç†æ¨¡å¼.html.90a17679.js"><link rel="prefetch" href="/assets/å•ä¾‹æ¨¡å¼.html.c3742e12.js"><link rel="prefetch" href="/assets/å·¥å‚æ¨¡å¼.html.f8c7f9d6.js"><link rel="prefetch" href="/assets/é™æ€ä»£ç†æ¨¡å¼.html.7bbcf6f5.js"><link rel="prefetch" href="/assets/ä¾èµ–å€’ç½®åŸåˆ™.html.56bde280.js"><link rel="prefetch" href="/assets/å¼€é—­åŸåˆ™.html.d45ce1b8.js"><link rel="prefetch" href="/assets/Googleæœç´¢ä¸ºä»€ä¹ˆä¸èƒ½æ— é™åˆ†é¡µï¼Ÿ.html.5b88d232.js"><link rel="prefetch" href="/assets/index.html.abd3d401.js"><link rel="prefetch" href="/assets/m1èŠ¯ç‰‡ç”µè„‘å®‰è£…cerebro.html.0120f768.js"><link rel="prefetch" href="/assets/MySQLä¸Redisçš„æ•°æ®ä¸€è‡´æ€§.html.5ba6736f.js"><link rel="prefetch" href="/assets/MySQLä¼˜åŒ–çš„5ä¸ªç»´åº¦.html.4362df81.js"><link rel="prefetch" href="/assets/MySQLç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿.html.d51dd9cb.js"><link rel="prefetch" href="/assets/index.html.c8eb6a41.js"><link rel="prefetch" href="/assets/ä¸€æ¡SELECTè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„.html.2ace0b89.js"><link rel="prefetch" href="/assets/ä¸ºä»€ä¹ˆMySQLçš„ä¸»é”®æŸ¥è¯¢è¿™ä¹ˆå¿«.html.69305ec3.js"><link rel="prefetch" href="/assets/ä¸ºä»€ä¹ˆä¸å»ºè®®ä½ ä½¿ç”¨SELECT_.html.ee5e1bb5.js"><link rel="prefetch" href="/assets/äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC.html.a4ad4ac5.js"><link rel="prefetch" href="/assets/ä»æ ¹å„¿ä¸Šç†è§£ç´¢å¼•.html.c7e89f33.js"><link rel="prefetch" href="/assets/index.html.9d93e6d0.js"><link rel="prefetch" href="/assets/RedisæŒä¹…åŒ–â€”â€”AOF.html.3ef66ec5.js"><link rel="prefetch" href="/assets/RedisæŒä¹…åŒ–â€”â€”RDB.html.956f2216.js"><link rel="prefetch" href="/assets/é¸¡è‚‹çš„Redisäº‹åŠ¡.html.bf1172f2.js"><link rel="prefetch" href="/assets/index.html.ccdcd4de.js"><link rel="prefetch" href="/assets/ä»0åˆ°1ç¼–å†™ä¸€æ¬¾æ’ä»¶.html.5f51ccf3.js"><link rel="prefetch" href="/assets/index.html.530ae07a.js"><link rel="prefetch" href="/assets/å¦‚ä½•åŒæ­¥é…ç½®.html.21989554.js"><link rel="prefetch" href="/assets/404.html.4285bac5.js"><link rel="prefetch" href="/assets/index.html.6717b2b6.js"><link rel="prefetch" href="/assets/index.html.5eae9e3f.js"><link rel="prefetch" href="/assets/index.html.85231e1c.js"><link rel="prefetch" href="/assets/index.html.07ef0efd.js"><link rel="prefetch" href="/assets/index.html.e5d6f701.js"><link rel="prefetch" href="/assets/index.html.accaa64c.js"><link rel="prefetch" href="/assets/index.html.9a9f30d6.js"><link rel="prefetch" href="/assets/index.html.68e6d714.js"><link rel="prefetch" href="/assets/index.html.b032f382.js"><link rel="prefetch" href="/assets/index.html.bc540566.js"><link rel="prefetch" href="/assets/index.html.4fa328ce.js"><link rel="prefetch" href="/assets/index.html.2c9f8626.js"><link rel="prefetch" href="/assets/index.html.6c184523.js"><link rel="prefetch" href="/assets/index.html.2309c271.js"><link rel="prefetch" href="/assets/index.html.94d1334e.js"><link rel="prefetch" href="/assets/index.html.3e9b5a53.js"><link rel="prefetch" href="/assets/index.html.da976a01.js"><link rel="prefetch" href="/assets/index.html.843e0dc5.js"><link rel="prefetch" href="/assets/index.html.e6adfc22.js"><link rel="prefetch" href="/assets/index.html.a46272a6.js"><link rel="prefetch" href="/assets/index.html.e68eec84.js"><link rel="prefetch" href="/assets/index.html.c3c92e66.js"><link rel="prefetch" href="/assets/index.html.a1ffa21c.js"><link rel="prefetch" href="/assets/index.html.5c810edd.js"><link rel="prefetch" href="/assets/index.html.7b661157.js"><link rel="prefetch" href="/assets/index.html.a61ab275.js"><link rel="prefetch" href="/assets/index.html.cd04393b.js"><link rel="prefetch" href="/assets/index.html.6ea94130.js"><link rel="prefetch" href="/assets/index.html.938c47df.js"><link rel="prefetch" href="/assets/index.html.b6e53603.js"><link rel="prefetch" href="/assets/index.html.abfe5d6e.js"><link rel="prefetch" href="/assets/index.html.799762a8.js"><link rel="prefetch" href="/assets/index.html.6a1f2c2a.js"><link rel="prefetch" href="/assets/index.html.91d708f1.js"><link rel="prefetch" href="/assets/index.html.2b208795.js"><link rel="prefetch" href="/assets/index.html.970ad9a6.js"><link rel="prefetch" href="/assets/index.html.18750c91.js"><link rel="prefetch" href="/assets/index.html.5832ab43.js"><link rel="prefetch" href="/assets/index.html.46963a2e.js"><link rel="prefetch" href="/assets/index.html.d8d0f261.js"><link rel="prefetch" href="/assets/index.html.656424fd.js"><link rel="prefetch" href="/assets/index.html.740f6c3e.js"><link rel="prefetch" href="/assets/index.html.75361b30.js"><link rel="prefetch" href="/assets/index.html.77d7aba9.js"><link rel="prefetch" href="/assets/index.html.c6475c4b.js"><link rel="prefetch" href="/assets/index.html.4f4df111.js"><link rel="prefetch" href="/assets/index.html.2ef7b821.js"><link rel="prefetch" href="/assets/index.html.0dc0a64e.js"><link rel="prefetch" href="/assets/index.html.a8e5dab4.js"><link rel="prefetch" href="/assets/index.html.8dbe4bd2.js"><link rel="prefetch" href="/assets/index.html.72d090a7.js"><link rel="prefetch" href="/assets/index.html.f0f01938.js"><link rel="prefetch" href="/assets/index.html.899ba14c.js"><link rel="prefetch" href="/assets/index.html.1aac5a85.js"><link rel="prefetch" href="/assets/index.html.79aed47e.js"><link rel="prefetch" href="/assets/index.html.d40b22a3.js"><link rel="prefetch" href="/assets/index.html.50661535.js"><link rel="prefetch" href="/assets/index.html.47d81d31.js"><link rel="prefetch" href="/assets/index.html.3bf9cde9.js"><link rel="prefetch" href="/assets/index.html.9ff42a2f.js"><link rel="prefetch" href="/assets/home.html.f6b6e747.js"><link rel="prefetch" href="/assets/update.html.b875aa03.js"><link rel="prefetch" href="/assets/index.html.50c30d26.js"><link rel="prefetch" href="/assets/index.html.044544a9.js"><link rel="prefetch" href="/assets/disable.html.17c71059.js"><link rel="prefetch" href="/assets/encrypt.html.8a63629a.js"><link rel="prefetch" href="/assets/markdown.html.a6b30ed4.js"><link rel="prefetch" href="/assets/JVMåˆ°åº•è¯¥å­¦ä¹ äº›ä»€ä¹ˆ.html.d82e82f3.js"><link rel="prefetch" href="/assets/index.html.938d3cd5.js"><link rel="prefetch" href="/assets/æˆ‘æ˜¯ä¸€ä¸ªåƒåœ¾.html.15bfac9c.js"><link rel="prefetch" href="/assets/CPUæµæ°´çº¿ä¸æŒ‡ä»¤é‡æ’åº.html.77f8ae0d.js"><link rel="prefetch" href="/assets/index.html.d1e19348.js"><link rel="prefetch" href="/assets/ç”¨ã€Œé—ªç”µä¾ ã€è§£é‡Šä¸€ä¸‹è¿›ç¨‹å’Œçº¿ç¨‹.html.2349f93b.js"><link rel="prefetch" href="/assets/ç¼“å­˜ä¸€è‡´æ€§ä¸å†…å­˜å±éšœ.html.f9630e62.js"><link rel="prefetch" href="/assets/6ç§socketæ•°æ®ç»“æ„.html.f77dd09e.js"><link rel="prefetch" href="/assets/Datagram-Sockets.html.bac61787.js"><link rel="prefetch" href="/assets/IP.html.139e4c33.js"><link rel="prefetch" href="/assets/IPv4-IPv6.html.bcf3b8aa.js"><link rel="prefetch" href="/assets/IPä¸äºŒè¿›åˆ¶è½¬æ¢.html.18a7a33a.js"><link rel="prefetch" href="/assets/index.html.9db4409c.js"><link rel="prefetch" href="/assets/accept.html.462eda52.js"><link rel="prefetch" href="/assets/bind.html.4d2b6729.js"><link rel="prefetch" href="/assets/blocking.html.fa3d208e.js"><link rel="prefetch" href="/assets/broadcast-packets.html.fdec827d.js"><link rel="prefetch" href="/assets/client-server.html.551d5c80.js"><link rel="prefetch" href="/assets/close-shutdown.html.dadfbb13.js"><link rel="prefetch" href="/assets/connect.html.e9c0a33d.js"><link rel="prefetch" href="/assets/getaddrinfo.html.e4a62679.js"><link rel="prefetch" href="/assets/gethostname.html.f9d207fe.js"><link rel="prefetch" href="/assets/getpeername.html.a40ae158.js"><link rel="prefetch" href="/assets/listen.html.a4e55c2c.js"><link rel="prefetch" href="/assets/network-programming.html.f246a51d.js"><link rel="prefetch" href="/assets/poll.html.a2f0c305.js"><link rel="prefetch" href="/assets/send-recv.html.46408249.js"><link rel="prefetch" href="/assets/sendto-recvfrom.html.8add124e.js"><link rel="prefetch" href="/assets/slightly-advanced-tech.html.0fae7705.js"><link rel="prefetch" href="/assets/socket.html.358ee8c6.js"><link rel="prefetch" href="/assets/socketç¼–ç¨‹ç›¸å…³å‡½æ•°.html.15024d6e.js"><link rel="prefetch" href="/assets/stream-client-sample.html.243eba46.js"><link rel="prefetch" href="/assets/stream-server-sample.html.8a9bd4b4.js"><link rel="prefetch" href="/assets/ä¸¤ç§Internet-Socket.html.1f361eca.js"><link rel="prefetch" href="/assets/ä»€ä¹ˆæ˜¯socket.html.5ca1f3bf.js"><link rel="prefetch" href="/assets/ä»IPv4è¿ç§»åˆ°IPv6.html.37f6826b.js"><link rel="prefetch" href="/assets/å­—èŠ‚åº.html.bde1a38d.js"><link rel="prefetch" href="/assets/æ¼«è°ˆç½‘ç»œ.html.b6fd2a5f.js"><link rel="prefetch" href="/assets/index.html.c5e674a8.js"><link rel="prefetch" href="/assets/ä»€ä¹ˆæ˜¯æ–‡ä»¶æè¿°ç¬¦.html.336b6d36.js"><link rel="prefetch" href="/assets/index.html.005a2ab7.js"><link rel="prefetch" href="/assets/åŠ¨æ€ä»£ç†æ¨¡å¼.html.a1adbaff.js"><link rel="prefetch" href="/assets/å•ä¾‹æ¨¡å¼.html.1bef7cdd.js"><link rel="prefetch" href="/assets/å·¥å‚æ¨¡å¼.html.79747f29.js"><link rel="prefetch" href="/assets/é™æ€ä»£ç†æ¨¡å¼.html.16750975.js"><link rel="prefetch" href="/assets/ä¾èµ–å€’ç½®åŸåˆ™.html.7a89b918.js"><link rel="prefetch" href="/assets/å¼€é—­åŸåˆ™.html.26e04431.js"><link rel="prefetch" href="/assets/Googleæœç´¢ä¸ºä»€ä¹ˆä¸èƒ½æ— é™åˆ†é¡µï¼Ÿ.html.5970af3a.js"><link rel="prefetch" href="/assets/index.html.56ae1508.js"><link rel="prefetch" href="/assets/m1èŠ¯ç‰‡ç”µè„‘å®‰è£…cerebro.html.a80ba58f.js"><link rel="prefetch" href="/assets/MySQLä¸Redisçš„æ•°æ®ä¸€è‡´æ€§.html.69f85dc9.js"><link rel="prefetch" href="/assets/MySQLä¼˜åŒ–çš„5ä¸ªç»´åº¦.html.11d86987.js"><link rel="prefetch" href="/assets/MySQLç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿.html.d32d91b6.js"><link rel="prefetch" href="/assets/index.html.9788a2ee.js"><link rel="prefetch" href="/assets/ä¸€æ¡SELECTè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„.html.4787d2ca.js"><link rel="prefetch" href="/assets/ä¸ºä»€ä¹ˆMySQLçš„ä¸»é”®æŸ¥è¯¢è¿™ä¹ˆå¿«.html.ae135062.js"><link rel="prefetch" href="/assets/ä¸ºä»€ä¹ˆä¸å»ºè®®ä½ ä½¿ç”¨SELECT_.html.33654151.js"><link rel="prefetch" href="/assets/äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC.html.0f18da5f.js"><link rel="prefetch" href="/assets/ä»æ ¹å„¿ä¸Šç†è§£ç´¢å¼•.html.db4782b7.js"><link rel="prefetch" href="/assets/index.html.f7a9ee3e.js"><link rel="prefetch" href="/assets/RedisæŒä¹…åŒ–â€”â€”AOF.html.548300c5.js"><link rel="prefetch" href="/assets/RedisæŒä¹…åŒ–â€”â€”RDB.html.e5be9473.js"><link rel="prefetch" href="/assets/é¸¡è‚‹çš„Redisäº‹åŠ¡.html.53cdfc95.js"><link rel="prefetch" href="/assets/index.html.031cd8f4.js"><link rel="prefetch" href="/assets/ä»0åˆ°1ç¼–å†™ä¸€æ¬¾æ’ä»¶.html.58e4485f.js"><link rel="prefetch" href="/assets/index.html.960e7d47.js"><link rel="prefetch" href="/assets/å¦‚ä½•åŒæ­¥é…ç½®.html.062dea59.js"><link rel="prefetch" href="/assets/404.html.4ffecf60.js"><link rel="prefetch" href="/assets/index.html.653cfb31.js"><link rel="prefetch" href="/assets/index.html.c97b0205.js"><link rel="prefetch" href="/assets/index.html.60dd4947.js"><link rel="prefetch" href="/assets/index.html.df082618.js"><link rel="prefetch" href="/assets/index.html.eb7ae1c3.js"><link rel="prefetch" href="/assets/index.html.60e98100.js"><link rel="prefetch" href="/assets/index.html.d448b6cc.js"><link rel="prefetch" href="/assets/index.html.cbcab33c.js"><link rel="prefetch" href="/assets/index.html.fab888a8.js"><link rel="prefetch" href="/assets/index.html.abbd1e9b.js"><link rel="prefetch" href="/assets/index.html.58449fe3.js"><link rel="prefetch" href="/assets/index.html.7c3b38ae.js"><link rel="prefetch" href="/assets/index.html.d79bb2d5.js"><link rel="prefetch" href="/assets/index.html.4a9d6059.js"><link rel="prefetch" href="/assets/index.html.71b73a87.js"><link rel="prefetch" href="/assets/index.html.a4d30e9a.js"><link rel="prefetch" href="/assets/index.html.ea52254a.js"><link rel="prefetch" href="/assets/index.html.982cc4e8.js"><link rel="prefetch" href="/assets/index.html.903f0122.js"><link rel="prefetch" href="/assets/index.html.ec47fbe3.js"><link rel="prefetch" href="/assets/index.html.cc5a4d45.js"><link rel="prefetch" href="/assets/index.html.c2bbc50f.js"><link rel="prefetch" href="/assets/index.html.be5402d3.js"><link rel="prefetch" href="/assets/index.html.51cf46d8.js"><link rel="prefetch" href="/assets/index.html.3cbbf1fa.js"><link rel="prefetch" href="/assets/index.html.9ab40022.js"><link rel="prefetch" href="/assets/index.html.a9822f56.js"><link rel="prefetch" href="/assets/index.html.781e83e5.js"><link rel="prefetch" href="/assets/index.html.19fef5af.js"><link rel="prefetch" href="/assets/index.html.a7e81c8c.js"><link rel="prefetch" href="/assets/index.html.0f0f923f.js"><link rel="prefetch" href="/assets/index.html.cab64beb.js"><link rel="prefetch" href="/assets/index.html.062f997a.js"><link rel="prefetch" href="/assets/index.html.87d5dde1.js"><link rel="prefetch" href="/assets/index.html.12bda11a.js"><link rel="prefetch" href="/assets/index.html.5949d508.js"><link rel="prefetch" href="/assets/index.html.5fda5c00.js"><link rel="prefetch" href="/assets/index.html.eeb13bc6.js"><link rel="prefetch" href="/assets/index.html.3423743d.js"><link rel="prefetch" href="/assets/index.html.c87b06c2.js"><link rel="prefetch" href="/assets/index.html.fd727bd0.js"><link rel="prefetch" href="/assets/index.html.821bee43.js"><link rel="prefetch" href="/assets/index.html.c1f8b436.js"><link rel="prefetch" href="/assets/index.html.b7e42b99.js"><link rel="prefetch" href="/assets/index.html.382d26c0.js"><link rel="prefetch" href="/assets/index.html.80592da4.js"><link rel="prefetch" href="/assets/index.html.ee31c74a.js"><link rel="prefetch" href="/assets/index.html.d763d98b.js"><link rel="prefetch" href="/assets/index.html.34063bed.js"><link rel="prefetch" href="/assets/index.html.c8febeaa.js"><link rel="prefetch" href="/assets/index.html.e2f78d74.js"><link rel="prefetch" href="/assets/index.html.6e7f5f3e.js"><link rel="prefetch" href="/assets/index.html.ebeb1e58.js"><link rel="prefetch" href="/assets/index.html.874082f9.js"><link rel="prefetch" href="/assets/index.html.ab980c0c.js"><link rel="prefetch" href="/assets/index.html.7774ed2d.js"><link rel="prefetch" href="/assets/index.html.a4c7d7fa.js"><link rel="prefetch" href="/assets/index.html.99115fb9.js"><link rel="prefetch" href="/assets/index.html.e1fbdac0.js"><link rel="prefetch" href="/assets/404.852e4c3f.js"><link rel="prefetch" href="/assets/Layout.c7f3e1d4.js"><link rel="prefetch" href="/assets/Slide.adb384fd.js"><link rel="prefetch" href="/assets/Blog.1bb2e8cd.js"><link rel="prefetch" href="/assets/giscus.8fe73ced.js"><link rel="prefetch" href="/assets/auto.esm.2565cd3a.js"><link rel="prefetch" href="/assets/index.d8a59108.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.ee1e0284.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.218074cd.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="https://img-blog.csdnimg.cn/d16e11af2edb4972833f88083d2f0375.png" alt="è‰æ²é£"><!----><span class="site-name hide-in-pad">è‰æ²é£</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="icon iconfont icon-home"></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æŠ€æœ¯åšæ–‡"><span class="title"><span class="icon iconfont icon-xieboke"></span>æŠ€æœ¯åšæ–‡</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å†…åŠŸå¿ƒæ³•</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/basic/design-pattern/" class="nav-link" aria-label="è®¾è®¡æ¨¡å¼"><span class="icon iconfont icon-design"></span>è®¾è®¡æ¨¡å¼<!----></a></li><li class="dropdown-subitem"><a href="/posts/basic/design-principle/%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99.html" class="nav-link" aria-label="è®¾è®¡åŸåˆ™"><span class="icon iconfont icon-design"></span>è®¾è®¡åŸåˆ™<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å­˜å‚¨ç¯‡</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/storage/MySQL" class="nav-link active" aria-label="MySQL"><span class="icon iconfont icon-mysql"></span>MySQL<!----></a></li><li class="dropdown-subitem"><a href="/posts/storage/Redis" class="nav-link" aria-label="Redis"><span class="icon iconfont icon-redis"></span>Redis<!----></a></li><li class="dropdown-subitem"><a href="/posts/storage/ElasticSearch" class="nav-link" aria-label="ElasticSearch"><span class="icon iconfont icon-elasticsearch-Elasticsearch"></span>ElasticSearch<!----></a></li></ul></li><li class="dropdown-item"><a href="/posts/concurrency" class="nav-link" aria-label="å¹¶å‘ç¯‡"><span class="icon iconfont icon-CPU"></span>å¹¶å‘ç¯‡<!----></a></li><li class="dropdown-item"><a href="/posts/JVM" class="nav-link" aria-label="JVM"><span class="icon iconfont icon-PCxuniji"></span>JVM<!----></a></li><li class="dropdown-item"><a href="/posts/os" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-linux"></span>Linux<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="title"><span class="icon iconfont icon-keyboard"></span>å¼€å‘å·¥å…·</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/posts/tools/IDEA" class="nav-link" aria-label="IDEA"><span class="icon iconfont icon-jetbrains"></span>IDEA<!----></a></li><li class="dropdown-item"><a href="/posts/tools/VSCode" class="nav-link" aria-label="VSCode"><span class="icon iconfont icon-VsCode"></span>VSCode<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/posts/network-programming" class="nav-link" aria-label="socketç¼–ç¨‹"><span class="icon iconfont icon-wangluojiekou"></span>socketç¼–ç¨‹<!----></a></div><div class="nav-item hide-in-mobile"><a href="/update.html" class="nav-link" aria-label="æœ€è¿‘æ›´æ–°"><span class="icon iconfont icon-Update"></span>æœ€è¿‘æ›´æ–°<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://space.bilibili.com/519360358" rel="noopener noreferrer" target="_blank" aria-label class="nav-link"><span class="icon iconfont icon-bilibili"></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/chanmufeng/chanmufeng.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><div id="docsearch-container"></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-strong"></span><span class="title">1. åŸºç¡€ç¯‡</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1SELECT%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸€æ¡SELECTè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„"><span class="icon iconfont icon-creative"></span>ä¸€æ¡SELECTè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="ä¸€æ¡UPDATEè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„"><span class="icon iconfont icon-creative"></span>ä¸€æ¡UPDATEè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_1-ä¸€äº›éœ€è¦çŸ¥é“çš„æ¦‚å¿µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. ä¸€äº›éœ€è¦çŸ¥é“çš„æ¦‚å¿µ"><!---->1. ä¸€äº›éœ€è¦çŸ¥é“çš„æ¦‚å¿µ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_1-1-innodbé¡µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 InnoDBé¡µ"><!---->1.1 InnoDBé¡µ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_1-2-è¡¨ç©ºé—´" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 è¡¨ç©ºé—´"><!---->1.2 è¡¨ç©ºé—´<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_2-ç¼“å†²æ± buffer-pool" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. ç¼“å†²æ± Buffer Pool"><!---->2. ç¼“å†²æ± Buffer Pool<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_3-redoæ—¥å¿—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. redoæ—¥å¿—"><!---->3. redoæ—¥å¿—<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_3-1-ä¸ºä»€ä¹ˆéœ€è¦redoæ—¥å¿—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1 ä¸ºä»€ä¹ˆéœ€è¦redoæ—¥å¿—"><!---->3.1 ä¸ºä»€ä¹ˆéœ€è¦redoæ—¥å¿—<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_3-2-ç£é“å¯»å€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.2 ç£é“å¯»å€"><!---->3.2 ç£é“å¯»å€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_3-3-redoæ—¥å¿—çš„ç³»ç»Ÿå˜é‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3 redoæ—¥å¿—çš„ç³»ç»Ÿå˜é‡"><!---->3.3 redoæ—¥å¿—çš„ç³»ç»Ÿå˜é‡<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_4-undoæ—¥å¿—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. undoæ—¥å¿—"><!---->4. undoæ—¥å¿—<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_5-sqlæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”åˆç‰ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. SQLæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”åˆç‰ˆ"><!---->5. SQLæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”åˆç‰ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_6-binlogæ—¥å¿—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. binlogæ—¥å¿—"><!---->6. binlogæ—¥å¿—<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_6-1-ä¸ºä»€ä¹ˆæœ‰äº†redoæ—¥å¿—è¿˜éœ€è¦-binlog" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.1 ä¸ºä»€ä¹ˆæœ‰äº†redoæ—¥å¿—è¿˜éœ€è¦ binlogï¼Ÿ"><!---->6.1 ä¸ºä»€ä¹ˆæœ‰äº†redoæ—¥å¿—è¿˜éœ€è¦ binlogï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_6-2-binlogæ—¥å¿—çš„ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.2 binlogæ—¥å¿—çš„ä½œç”¨"><!---->6.2 binlogæ—¥å¿—çš„ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_6-3-ä¸¤é˜¶æ®µæäº¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.3 ä¸¤é˜¶æ®µæäº¤"><!---->6.3 ä¸¤é˜¶æ®µæäº¤<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_7-sqlæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”ç»ˆç‰ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7. SQLæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”ç»ˆç‰ˆ"><!---->7. SQLæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”ç»ˆç‰ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#æ¨èé˜…è¯»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ¨èé˜…è¯»"><!---->æ¨èé˜…è¯»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#å‚è€ƒèµ„æ–™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚è€ƒèµ„æ–™"><!---->å‚è€ƒèµ„æ–™<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-condition"></span><span class="title">2. ç´¢å¼•ç¯‡</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/storage/MySQL/%E4%B8%BA%E4%BB%80%E4%B9%88MySQL%E7%9A%84%E4%B8%BB%E9%94%AE%E6%9F%A5%E8%AF%A2%E8%BF%99%E4%B9%88%E5%BF%AB.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸ºä»€ä¹ˆMySQLçš„ä¸»é”®æŸ¥è¯¢è¿™ä¹ˆå¿«"><span class="icon iconfont icon-creative"></span>ä¸ºä»€ä¹ˆMySQLçš„ä¸»é”®æŸ¥è¯¢è¿™ä¹ˆå¿«<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/storage/MySQL/%E4%BB%8E%E6%A0%B9%E5%84%BF%E4%B8%8A%E7%90%86%E8%A7%A3%E7%B4%A2%E5%BC%95.html" class="nav-link sidebar-link sidebar-page" aria-label="ä»æ ¹å„¿ä¸Šç†è§£ç´¢å¼•"><span class="icon iconfont icon-creative"></span>ä»æ ¹å„¿ä¸Šç†è§£ç´¢å¼•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/storage/MySQL/MySQL%E7%B4%A2%E5%BC%95%E7%9A%84%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQLç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿"><span class="icon iconfont icon-creative"></span>MySQLç´¢å¼•çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/storage/MySQL/%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E5%BB%BA%E8%AE%AE%E4%BD%A0%E4%BD%BF%E7%94%A8SELECT*.html" class="nav-link sidebar-link sidebar-page" aria-label="ä¸ºä»€ä¹ˆä¸å»ºè®®ä½ ä½¿ç”¨SELECT*"><span class="icon iconfont icon-creative"></span>ä¸ºä»€ä¹ˆä¸å»ºè®®ä½ ä½¿ç”¨SELECT*<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-lock"></span><span class="title">3. äº‹åŠ¡ä¸é”</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/storage/MySQL/%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E6%80%A7%E4%B8%8EMVCC.html" class="nav-link sidebar-link sidebar-page" aria-label="äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC"><span class="icon iconfont icon-creative"></span>äº‹åŠ¡çš„éš”ç¦»æ€§ä¸MVCC<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-lock"></span><span class="title">4. æ•°æ®ä¸€è‡´æ€§</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/storage/MySQL/MySQL%E4%B8%8ERedis%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7.html" class="nav-link sidebar-link sidebar-page" aria-label="å…ˆä¿®æ”¹MySQLè¿˜æ˜¯å…ˆä¿®æ”¹Redis"><span class="icon iconfont icon-creative"></span>å…ˆä¿®æ”¹MySQLè¿˜æ˜¯å…ˆä¿®æ”¹Redis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-cycle"></span><span class="title">5. ä¼˜åŒ–</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/storage/MySQL/MySQL%E4%BC%98%E5%8C%96%E7%9A%845%E4%B8%AA%E7%BB%B4%E5%BA%A6.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQLä¼˜åŒ–çš„5ä¸ªç»´åº¦"><span class="icon iconfont icon-creative"></span>MySQLä¼˜åŒ–çš„5ä¸ªç»´åº¦<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-creative"></span>ä¸€æ¡UPDATEè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´2æœˆ5æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://www.chanmufeng.com" target="_blank" rel="noopener noreferrer">è‰æ²é£</a></span><span property="author" content="è‰æ²é£"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´2æœˆ5æ—¥</span><meta property="datePublished" content="2022-02-05T00:00:00.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" localizeddate="2022å¹´2æœˆ5æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category3 clickable" role="navigation">MySQL</li><meta property="articleSection" content="MySQL"></ul></span><span aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down" localizeddate="2022å¹´2æœˆ5æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag3 clickable" role="navigation">MySQL</li><li class="tag tag4 clickable" role="navigation">UPDATE</li></ul><meta property="keywords" content="MySQL,UPDATE"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´2æœˆ5æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 17 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT17M"></span><!----><span class="words-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down" localizeddate="2022å¹´2æœˆ5æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 5183 å­—</span><meta property="wordCount" content="5183"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_1-ä¸€äº›éœ€è¦çŸ¥é“çš„æ¦‚å¿µ" class="router-link-active router-link-exact-active toc-link level2">1. ä¸€äº›éœ€è¦çŸ¥é“çš„æ¦‚å¿µ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_1-1-innodbé¡µ" class="router-link-active router-link-exact-active toc-link level3">1.1 InnoDBé¡µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_1-2-è¡¨ç©ºé—´" class="router-link-active router-link-exact-active toc-link level3">1.2 è¡¨ç©ºé—´</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_2-ç¼“å†²æ± buffer-pool" class="router-link-active router-link-exact-active toc-link level2">2. ç¼“å†²æ± Buffer Pool</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_3-redoæ—¥å¿—" class="router-link-active router-link-exact-active toc-link level2">3. redoæ—¥å¿—</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_3-1-ä¸ºä»€ä¹ˆéœ€è¦redoæ—¥å¿—" class="router-link-active router-link-exact-active toc-link level3">3.1 ä¸ºä»€ä¹ˆéœ€è¦redoæ—¥å¿—</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_3-2-ç£é“å¯»å€" class="router-link-active router-link-exact-active toc-link level3">3.2 ç£é“å¯»å€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_3-3-redoæ—¥å¿—çš„ç³»ç»Ÿå˜é‡" class="router-link-active router-link-exact-active toc-link level3">3.3 redoæ—¥å¿—çš„ç³»ç»Ÿå˜é‡</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_4-undoæ—¥å¿—" class="router-link-active router-link-exact-active toc-link level2">4. undoæ—¥å¿—</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_5-sqlæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”åˆç‰ˆ" class="router-link-active router-link-exact-active toc-link level2">5. SQLæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”åˆç‰ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_6-binlogæ—¥å¿—" class="router-link-active router-link-exact-active toc-link level2">6. binlogæ—¥å¿—</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_6-1-ä¸ºä»€ä¹ˆæœ‰äº†redoæ—¥å¿—è¿˜éœ€è¦-binlog" class="router-link-active router-link-exact-active toc-link level3">6.1 ä¸ºä»€ä¹ˆæœ‰äº†redoæ—¥å¿—è¿˜éœ€è¦ binlogï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_6-2-binlogæ—¥å¿—çš„ä½œç”¨" class="router-link-active router-link-exact-active toc-link level3">6.2 binlogæ—¥å¿—çš„ä½œç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_6-3-ä¸¤é˜¶æ®µæäº¤" class="router-link-active router-link-exact-active toc-link level3">6.3 ä¸¤é˜¶æ®µæäº¤</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#_7-sqlæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”ç»ˆç‰ˆ" class="router-link-active router-link-exact-active toc-link level2">7. SQLæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”ç»ˆç‰ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#æ¨èé˜…è¯»" class="router-link-active router-link-exact-active toc-link level2">æ¨èé˜…è¯»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1Update%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html#å‚è€ƒèµ„æ–™" class="router-link-active router-link-exact-active toc-link level2">å‚è€ƒèµ„æ–™</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><blockquote><p>æ–‡ç« é¦–å‘äºå…¬ä¼—å·ã€Œè‰æ²é£ã€ï¼Œè®¤çœŸå†™å¥½æ¯ä¸€ç¯‡æ–‡ç« ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨äº¤æµ</p></blockquote><p>è¿™æ˜¯å›¾è§£MySQLçš„ç¬¬2ç¯‡æ–‡ç« ï¼Œè¿™ç¯‡æ–‡ç« ä¼šé€šè¿‡<strong>ä¸€æ¡SQLæ›´æ–°è¯­å¥çš„æ‰§è¡Œæµç¨‹</strong>è®©å¤§å®¶æ¸…æ¥šåœ°æ˜ç™½ï¼š</p><ul><li>ä»€ä¹ˆæ˜¯InnoDBé¡µï¼Ÿç¼“å­˜é¡µåˆæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Ÿ</li><li>ä»€ä¹ˆæ˜¯è¡¨ç©ºé—´ï¼Ÿä¸åŒå­˜å‚¨å¼•æ“çš„è¡¨åœ¨æ–‡ä»¶ç³»ç»Ÿçš„åº•å±‚è¡¨ç¤ºä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li><li>Buffer Poolæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿæœ‰å“ªäº›æˆ‘ä»¬éœ€è¦æŒæ¡çš„ç»†èŠ‚ï¼Ÿ</li><li>MySQLçš„ä¸‰ç§æ—¥å¿—æ–‡ä»¶redoæ—¥å¿—ã€undoæ—¥å¿—ã€binlogåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆéœ€è¦è¿™ä¹ˆå¤šç§ç±»å‹çš„æ—¥å¿—ï¼Ÿ</li></ul><p>æ­£æ–‡å¼€å§‹ï¼</p><hr><p>ä¹‹å‰æˆ‘ä»¬è®²è¿‡äº†<a href="https://mp.weixin.qq.com/s?__biz=MzI1MDU0MTc2MQ==&amp;mid=2247484069&amp;idx=1&amp;sn=d40d90ab9e3041757262be5192a46e9e&amp;chksm=e981e10bdef6681dde2ede9c1293e4b379fb827ab3c7d64ae828311c4ee14e19e20d7537d5f0#rd" target="_blank" rel="noopener noreferrer">ä¸€æ¡SQLæŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œé‚£ä¹ˆæ’å…¥ï¼ˆINSERTï¼‰ã€æ›´æ–°ï¼ˆUPDATEï¼‰å’Œåˆ é™¤ï¼ˆDELETEï¼‰æ“ä½œçš„æµç¨‹åˆæ˜¯ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿ</p><p>å…¶å®å¯¹äºMySQLè€Œè¨€ï¼Œåªæœ‰ä¸¤ç§é€šå¸¸æ„ä¹‰çš„æ“ä½œï¼Œä¸€ç§æ˜¯Queryï¼ˆæŸ¥è¯¢ï¼‰ï¼Œå¦ä¸€ç§æ˜¯Updateï¼ˆæ›´æ–°ï¼‰ï¼Œåè€…åŒ…å«äº†æˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„INSERTã€UPDATEå’ŒDELETEæ“ä½œã€‚</p><p>é‚£ä¹ˆMySQLçš„æ›´æ–°æµç¨‹å’ŒæŸ¥è¯¢æµç¨‹æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>å…¶å®åŸºæœ¬çš„æµç¨‹æ˜¯ä¸€è‡´çš„ï¼Œä¹Ÿè¦ç»è¿‡<strong>å¤„ç†è¿æ¥</strong>ã€<strong>è§£æä¼˜åŒ–</strong>ã€<strong>å­˜å‚¨å¼•æ“</strong>å‡ ä¸ªæ­¥éª¤ã€‚ä¸»è¦åŒºåˆ«åœ¨æ›´æ–°æ“ä½œæ¶‰åŠåˆ°äº†MySQLæ›´å¤šçš„ç»†èŠ‚ã€‚</p><p><img src="https://qiniu.chanmufeng.com/2022-01-26-150342.png" alt="image (2)" loading="lazy"></p><blockquote><p>æ³¨ï¼šæˆ‘ä»¬æ¥ä¸‹æ¥çš„æ‰€æœ‰æè¿°ï¼Œé’ˆå¯¹çš„éƒ½æ˜¯InnoDBå­˜å‚¨å¼•æ“ï¼Œå¦‚æœæ¶‰åŠåˆ°å…¶ä»–å­˜å‚¨å¼•æ“ï¼Œå°†ä¼šç‰¹æ®Šè¯´æ˜</p></blockquote><h2 id="_1-ä¸€äº›éœ€è¦çŸ¥é“çš„æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_1-ä¸€äº›éœ€è¦çŸ¥é“çš„æ¦‚å¿µ" aria-hidden="true">#</a> 1. ä¸€äº›éœ€è¦çŸ¥é“çš„æ¦‚å¿µ</h2><p>å¯¹äºMySQLä»»ä½•å­˜å‚¨å¼•æ“æ¥è¯´ï¼Œæ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸­çš„ï¼Œå­˜å‚¨å¼•æ“è¦æ“ä½œæ•°æ®ï¼Œå¿…é¡»å…ˆæŠŠç£ç›˜ä¸­çš„æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­æ‰å¯ä»¥ã€‚</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸€æ¬¡æ€§ä»ç£ç›˜ä¸­åŠ è½½å¤šå°‘æ•°æ®åˆ°å†…å­˜ä¸­åˆé€‚å‘¢ï¼Ÿå½“è·å–è®°å½•æ—¶ï¼ŒInnoDBå­˜å‚¨å¼•æ“éœ€è¦ä¸€æ¡æ¡åœ°æŠŠè®°å½•ä»ç£ç›˜ä¸­è¯»å–å‡ºæ¥å—ï¼Ÿ</p><p>å½“ç„¶ä¸è¡Œï¼æˆ‘ä»¬çŸ¥é“ç£ç›˜çš„è¯»å†™é€Ÿåº¦å’Œå†…å­˜è¯»å†™é€Ÿåº¦å·®äº†å‡ ä¸ªæ•°é‡çº§ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è¯»å–çš„æ•°æ®æ°å¥½è¿è¡Œåœ¨ç£ç›˜çš„ä¸åŒä½ç½®ï¼Œé‚£å°±æ„å‘³ç€ä¼šäº§ç”Ÿå¤šæ¬¡I/Oæ“ä½œã€‚</p><p>å› æ­¤ï¼Œæ— è®ºæ˜¯æ“ä½œç³»ç»Ÿä¹Ÿå¥½ï¼ŒMySQLå­˜å‚¨å¼•æ“ä¹Ÿç½¢ï¼Œéƒ½æœ‰ä¸€ä¸ªé¢„è¯»å–çš„æ¦‚å¿µã€‚æ¦‚å¿µçš„ä¾æ®ä¾¿æ˜¯ç»Ÿæ²»è®¡ç®—æœºç•Œçš„å±€éƒ¨æ€§åŸç†ã€‚</p><blockquote><p>ç©ºé—´å±€éƒ¨æ€§ï¼šå¦‚æœå½“å‰æ•°æ®æ˜¯æ­£åœ¨è¢«ä½¿ç”¨çš„ï¼Œé‚£ä¹ˆä¸è¯¥æ•°æ®ç©ºé—´åœ°å€ä¸´è¿‘çš„å…¶ä»–æ•°æ®åœ¨æœªæ¥æœ‰æ›´å¤§çš„å¯èƒ½æ€§è¢«ä½¿ç”¨åˆ°ï¼Œå› æ­¤å¯ä»¥ä¼˜å…ˆåŠ è½½åˆ°å¯„å­˜å™¨æˆ–ä¸»å­˜ä¸­æé«˜æ•ˆç‡</p></blockquote><p>å°±æ˜¯å½“ç£ç›˜ä¸Šçš„ä¸€å—æ•°æ®è¢«è¯»å–çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹²è„†å¤šè¯»ä¸€ç‚¹ï¼Œè€Œä¸æ˜¯ç”¨å¤šå°‘è¯»å¤šå°‘ã€‚</p><h3 id="_1-1-innodbé¡µ" tabindex="-1"><a class="header-anchor" href="#_1-1-innodbé¡µ" aria-hidden="true">#</a> 1.1 InnoDBé¡µ</h3><p>InnoDBå­˜å‚¨å¼•æ“å°†æ•°æ®åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªé¡µï¼Œä»¥é¡µä½œä¸ºç£ç›˜å’Œå†…å­˜ä¹‹é—´äº¤äº’çš„æœ€å°å•ä½ã€‚InnoDBä¸­é¡µçš„å¤§å°é»˜è®¤ä¸º16KBã€‚ä¹Ÿå°±æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€æ¬¡æœ€å°‘ä»ç£ç›˜ä¸­è¯»å–16KBçš„æ•°æ®åˆ°å†…å­˜ä¸­ï¼Œä¸€æ¬¡æœ€å°‘æŠŠå†…å­˜ä¸­16KBçš„å†…å®¹åˆ·æ–°åˆ°ç£ç›˜ä¸Šã€‚</p><p><img src="https://qiniu.chanmufeng.com/2022-02-03-150330.png" alt="image-20220203230329849" loading="lazy"></p><p>å¯¹äºInnoDBå­˜å‚¨å¼•æ“è€Œè¨€ï¼Œæ‰€æœ‰çš„æ•°æ®ï¼ˆå­˜å‚¨ç”¨æˆ·æ•°æ®çš„ç´¢å¼•ã€å„ç§å…ƒæ•°æ®ã€ç³»ç»Ÿæ•°æ®ï¼‰éƒ½æ˜¯ä»¥é¡µçš„å½¢å¼è¿›è¡Œå­˜å‚¨çš„ã€‚</p><h3 id="_1-2-è¡¨ç©ºé—´" tabindex="-1"><a class="header-anchor" href="#_1-2-è¡¨ç©ºé—´" aria-hidden="true">#</a> 1.2 è¡¨ç©ºé—´</h3><p>ä¸ºäº†æ›´å¥½åœ°ç®¡ç†é¡µï¼ŒMySQLåˆè®¾è®¡äº†ã€Œè¡¨ç©ºé—´ã€çš„æ¦‚å¿µã€‚è¡¨ç©ºé—´åˆæœ‰å¾ˆå¤šç±»å‹ï¼Œå…·ä½“ç±»å‹æˆ‘ä»¬ä¸éœ€è¦çŸ¥é“ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“ï¼Œä¸€ä¸ªè¡¨ç©ºé—´å¯ä»¥åˆ’åˆ†æˆå¾ˆå¤šä¸ªInnoDBé¡µï¼ŒInnoDBè¡¨æ•°æ®éƒ½å­˜å‚¨åœ¨æŸä¸ªè¡¨ç©ºé—´çš„é¡µä¸­ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬å®šä½ï¼ŒMySQLè´´å¿ƒçš„ä¸ºè¡¨ç©ºé—´è®¾è®¡äº†ä¸€ä¸ªå”¯ä¸€æ ‡è¯†â€”â€”è¡¨ç©ºé—´IDï¼ˆspace IDï¼‰ã€‚åŒç†ï¼ŒInnoDBé¡µä¹Ÿæœ‰è‡ªå·±çš„å”¯ä¸€ç¼–å·â€”â€”é¡µå·ï¼ˆpage numberï¼‰ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆè®¤ä¸ºã€‚ç»™å®šè¡¨ç©ºé—´IDå’Œé¡µå·ä»¥åŠé¡µçš„åç§»é‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®šä½åˆ°InnoDBé¡µçš„æŸæ¡è®°å½•ï¼Œä¹Ÿå°±æ˜¯æ•°æ®åº“è¡¨çš„æŸæ¡è®°å½•ã€‚</p><h4 id="_1-2-1-æ•°æ®è¡¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„è¡¨ç¤º" tabindex="-1"><a class="header-anchor" href="#_1-2-1-æ•°æ®è¡¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„è¡¨ç¤º" aria-hidden="true">#</a> 1.2.1 æ•°æ®è¡¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„è¡¨ç¤º</h4><p>ä¸ºäº†æ›´å¥½åœ°è®©å¤§å®¶ç†è§£è¿™ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæˆ‘åˆ›å»ºäº†åä¸º<code>test</code>çš„æ•°æ®åº“ï¼Œåœ¨å…¶ä¸‹åˆ†åˆ«åˆ›å»ºäº†3å¼ è¡¨<code>t_user_innodb</code>ï¼Œ<code>t_user_myisam</code>ï¼Œ<code>t_user_memory</code>ï¼Œå¯¹åº”çš„å­˜å‚¨å¼•æ“åˆ†åˆ«ä¸º<code>InnoDB</code>ã€<code>MyISAM</code>ã€<code>MEMORY</code>ã€‚</p><p>è¿›å…¥MySQLçš„æ•°æ®ç›®å½•ï¼Œæ‰¾åˆ°<code>test</code>ç›®å½•ï¼Œçœ‹ä¸€ä¸‹<code>test</code>æ•°æ®åº“ä¸‹æ‰€æœ‰è¡¨å¯¹åº”çš„æœ¬åœ°æ–‡ä»¶ç›®å½•</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>drwxr-x--- 2 mysql mysql  4096 Jan 26 09:28 .
drwxrwxrwt 6 mysql mysql  4096 Jan 26 09:24 ..
-rw-r----- 1 mysql mysql    67 Jan 26 09:24 db.opt
-rw-r----- 1 mysql mysql  8556 Jan 26 09:28 t_user_innodb.frm
-rw-r----- 1 mysql mysql 98304 Jan 26 09:28 t_user_innodb.ibd
-rw-r----- 1 mysql mysql  8556 Jan 26 09:27 t_user_memory.frm
-rw-r----- 1 mysql mysql     0 Jan 26 09:28 t_user_myisam.MYD
-rw-r----- 1 mysql mysql  1024 Jan 26 09:28 t_user_myisam.MYI
-rw-r----- 1 mysql mysql  8556 Jan 26 09:28 t_user_myisam.frm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-2-innodbæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„" tabindex="-1"><a class="header-anchor" href="#_1-2-2-innodbæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„" aria-hidden="true">#</a> 1.2.2 InnoDBæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„</h4><p>ã€Œè¡¨ç©ºé—´ã€æ˜¯InnoDBå­˜å‚¨å¼•æ“ç‹¬æœ‰çš„æ¦‚å¿µã€‚</p><p>æˆ‘ä»¬çœ‹åˆ°<code>t_user_innodb</code>è¡¨åœ¨æ•°æ®åº“å¯¹åº”çš„<code>test</code>ç›®å½•ä¸‹ä¼šç”Ÿæˆä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶</p><ul><li>t_user_innodb.frm</li><li>t_user_innodb.ibd</li></ul><p>å…¶ä¸­ï¼Œt_user_innodb.ibdå°±æ˜¯<code>t_user_innodb</code>è¡¨å¯¹åº”çš„è¡¨ç©ºé—´åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šçš„è¡¨ç¤ºï¼›t_user_innodb.frmç”¨æ¥æè¿°è¡¨çš„ç»“æ„ï¼Œå¦‚è¡¨æœ‰å“ªäº›åˆ—ï¼Œåˆ—çš„ç±»å‹æ˜¯ä»€ä¹ˆç­‰ã€‚</p><h4 id="_1-2-3-myisamæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„" tabindex="-1"><a class="header-anchor" href="#_1-2-3-myisamæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„" aria-hidden="true">#</a> 1.2.3 MyISAMæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„</h4><p>å’ŒInnoDBä¸åŒï¼ŒMyISAMæ²¡æœ‰è¡¨ç©ºé—´çš„æ¦‚å¿µï¼Œè¡¨çš„æ•°æ®å’Œç´¢å¼•å…¨éƒ½ç›´æ¥å­˜æ”¾åœ¨å¯¹åº”çš„æ•°æ®åº“å­ç›®å½•ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°<code>t_user_myisam</code>å¯¹åº”äº†ä¸‰ä¸ªæ–‡ä»¶</p><ul><li>t_user_myisam.MYD</li><li>t_user_myisam.MYI</li><li>t_user_myisam.frm</li></ul><p>å…¶ä¸­ï¼Œt_user_myisam.MYDè¡¨ç¤ºè¡¨çš„æ•°æ®æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å®é™…çœ‹åˆ°çš„æ•°æ®è¡¨çš„å†…å®¹ï¼›t_user_myisam.MYIè¡¨ç¤ºè¡¨çš„ç´¢å¼•æ–‡ä»¶ï¼Œä¸ºè¯¥è¡¨åˆ›å»ºçš„ç´¢å¼•éƒ½ä¼šå­˜æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼›t_user_myisam.frmç”¨æ¥æè¿°è¡¨çš„ç»“æ„ã€‚</p><h4 id="_1-2-4-memoryæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„" tabindex="-1"><a class="header-anchor" href="#_1-2-4-memoryæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„" aria-hidden="true">#</a> 1.2.4 MEMORYæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„</h4><p>MEMORYå­˜å‚¨å¼•æ“å¯¹åº”çš„æ•°æ®è¡¨åªæœ‰ä¸€ä¸ªæè¿°è¡¨ç»“æ„çš„æ–‡ä»¶t_user_memory.frmã€‚</p><h2 id="_2-ç¼“å†²æ± buffer-pool" tabindex="-1"><a class="header-anchor" href="#_2-ç¼“å†²æ± buffer-pool" aria-hidden="true">#</a> 2. ç¼“å†²æ± Buffer Pool</h2><p>ä¸ºäº†æ›´å¥½çš„åˆ©ç”¨å±€éƒ¨æ€§åŸç†å¸¦ç»™æˆ‘ä»¬çš„ä¼˜åŠ¿ï¼ŒInnoDBåœ¨å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¦‚æœéœ€è¦è®¿é—®æŸä¸ªé¡µçš„æ•°æ®ï¼Œä¼šæŠŠè¯¥æ•°æ®æ‰€åœ¨çš„é¡µçš„å…¨éƒ¨æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ã€‚å“ªæ€•æ˜¯åªéœ€è¦è®¿é—®ä¸€ä¸ªé¡µä¸­çš„ä¸€æ¡æ•°æ®ï¼Œä¹Ÿéœ€è¦åŠ è½½æ•´ä¸ªé¡µã€‚</p><p>ä»ç£ç›˜ä¸­åŠ è½½æ•°æ®åˆ°å†…å­˜ä¸­çš„æ“ä½œå¤ªæ˜‚è´µäº†ï¼æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥æé«˜æ•°æ®æ“ä½œçš„æ•ˆç‡å‘¢ï¼Ÿç¼“å­˜ï¼</p><p>ä¸ºäº†ç¼“å­˜ç£ç›˜çš„é¡µï¼ŒInnoDBåœ¨MySQLæœåŠ¡å™¨å¯åŠ¨æ—¶ä¼šå‘æ“ä½œç³»ç»Ÿç”³è¯·ä¸€ç‰‡è¿ç»­çš„å†…å­˜åŒºåŸŸï¼Œè¿™ç‰‡å†…å­˜åŒºåŸŸå°±æ˜¯<strong>Buffer Pool</strong>ã€‚</p><p>å¾ˆå®¹æ˜“ç†è§£ï¼Œä¸ºäº†æ›´å¥½åœ°ç¼“å­˜é¡µæ•°æ®ï¼ŒBuffer Poolå¯¹åº”çš„ä¸€ç‰‡è¿ç»­å†…å­˜ç©ºé—´ä¹Ÿè¢«åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªé¡µï¼Œè€Œä¸”é»˜è®¤æƒ…å†µä¸‹ï¼ŒBuffer Poolé¡µçš„å¤§å°å’ŒInnoDBé¡µå¤§å°ä¸€æ ·ï¼Œéƒ½æ˜¯16KBã€‚ä¸ºäº†åŒºåˆ†ä¸¤ç§ä¸åŒçš„é¡µï¼Œæˆ‘ä»¬å°†Buffer Poolä¸­çš„é¡µé¢ç§°ä¸ºç¼“å†²é¡µã€‚</p><p><img src="https://qiniu.chanmufeng.com/2022-02-03-153236.png" alt="image-20220203233236832" loading="lazy"></p><p>è¯»å–æ•°æ®çš„æ—¶å€™ï¼ŒInnoDBå…ˆåˆ¤æ–­æ•°æ®æ˜¯å¦åœ¨Buffer Poolä¸­ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç›´æ¥è¯»å–æ•°æ®è¿›è¡Œæ“ä½œï¼Œä¸ç”¨å†æ¬¡ä»ç£ç›˜åŠ è½½ï¼›å¦‚æœä¸æ˜¯ï¼Œåˆ™ä»ç£ç›˜åŠ è½½åˆ°Buffer Poolä¸­ï¼Œç„¶åè¯»å–æ•°æ®è¿›è¡Œæ“ä½œã€‚</p><p>ä¿®æ”¹æ•°æ®çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯å°†æ•°æ®å…ˆå†™åˆ°Buffer Poolç¼“å†²é¡µä¸­ï¼Œè€Œä¸æ˜¯æ¯æ¬¡æ›´æ–°æ“ä½œéƒ½ç›´æ¥å†™å…¥ç£ç›˜ã€‚å½“ç¼“å†²é¡µä¸­çš„æ•°æ®å’Œç£ç›˜æ–‡ä»¶ä¸ä¸€è‡´çš„æ—¶å€™ï¼Œç¼“å†²é¡µè¢«ç§°ä¸ºè„é¡µã€‚</p><p>é‚£ä¹ˆè„é¡µæ˜¯ä»€ä¹ˆæ—¶å€™è¢«åŒæ­¥åˆ°ç£ç›˜å‘¢ï¼Ÿ</p><p>InnoDBä¸­æœ‰ä¸“é—¨çš„åå°çº¿ç¨‹æ¯éš”ä¸€æ®µæ—¶é—´ä¼šæŠŠè„é¡µçš„å¤šä¸ªä¿®æ”¹åˆ·æ–°åˆ°ç£ç›˜ä¸Šï¼Œè¿™ä¸ªåŠ¨ä½œå«åšã€Œåˆ·è„ã€ã€‚</p><h2 id="_3-redoæ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#_3-redoæ—¥å¿—" aria-hidden="true">#</a> 3. redoæ—¥å¿—</h2><h3 id="_3-1-ä¸ºä»€ä¹ˆéœ€è¦redoæ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#_3-1-ä¸ºä»€ä¹ˆéœ€è¦redoæ—¥å¿—" aria-hidden="true">#</a> 3.1 ä¸ºä»€ä¹ˆéœ€è¦redoæ—¥å¿—</h3><p>ä¸å®šæ—¶åˆ·è„åˆå¸¦æ¥ä¸€ä¸ªé—®é¢˜ã€‚å¦‚æœè„é¡µçš„æ•°æ®è¿˜æ²¡æœ‰åˆ·æ–°åˆ°ç£ç›˜ä¸Šï¼Œæ­¤æ—¶æ•°æ®åº“çªç„¶å®•æœºæˆ–é‡å¯ï¼Œè¿™äº›æ•°æ®å°±ä¼šä¸¢å¤±ã€‚</p><p>é¦–å…ˆæƒ³åˆ°çš„æœ€ç®€å•ç²—æš´çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯åœ¨äº‹åŠ¡æäº¤ä¹‹å‰ï¼ŒæŠŠè¯¥äº‹åŠ¡ä¿®æ”¹çš„æ‰€æœ‰é¡µé¢éƒ½åˆ·æ–°åˆ°ç£ç›˜ã€‚ä½†æ˜¯ä¸Šæ–‡è¯´è¿‡ï¼Œé¡µæ˜¯å†…å­˜å’Œç£ç›˜äº¤äº’çš„æœ€å°å•ä½ï¼Œå¦‚æœåªä¿®æ”¹äº†1ä¸ªå­—èŠ‚ï¼Œå´è¦åˆ·æ–°16KBçš„æ•°æ®åˆ°ç£ç›˜ä¸Šï¼Œä¸å¾—ä¸è¯´å¤ªæµªè´¹äº†ï¼Œæ­¤è·¯ä¸é€šï¼</p><p>æ‰€ä»¥ï¼Œå¿…é¡»è¦æœ‰ä¸€ä¸ªæŒä¹…åŒ–çš„æªæ–½ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒInnoDBæŠŠå¯¹æ‰€æœ‰é¡µçš„æ›´æ–°æ“ä½œï¼ˆå†å¼ºè°ƒä¸€éï¼ŒåŒ…å«INSERTã€UPDATEã€DELETEï¼‰ä¸“é—¨å†™å…¥ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ã€‚</p><p>å½“æœ‰æœªåŒæ­¥åˆ°ç£ç›˜ä¸­çš„æ•°æ®æ—¶ï¼Œæ•°æ®åº“åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šæ ¹æ®è¿™ä¸ªæ—¥å¿—æ–‡ä»¶è¿›è¡Œæ•°æ®æ¢å¤ã€‚æˆ‘ä»¬å¸¸è¯´çš„å…³ç³»å‹æ•°æ®åº“çš„<code>ACID</code>ç‰¹æ€§ä¸­çš„<code>D</code>ï¼ˆæŒä¹…æ€§ï¼‰ï¼Œå°±æ˜¯é€šè¿‡è¿™ä¸ªæ—¥å¿—æ¥å®ç°çš„ã€‚</p><p>è¿™ä¸ªæ—¥å¿—æ–‡ä»¶å°±æ˜¯å¤§åé¼é¼çš„<strong>redoæ—¥å¿—</strong>ã€‚</p><blockquote><p>ã€Œreã€åœ¨è‹±æ–‡ä¸­çš„è¯æ ¹å«ä¹‰æ˜¯â€œé‡æ–°â€ï¼Œredoå°±æ˜¯ã€Œé‡æ–°åšã€çš„æ„æ€ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯MySQLæ ¹æ®è¿™ä¸ªæ—¥å¿—æ–‡ä»¶é‡æ–°è¿›è¡Œæ“ä½œ</p></blockquote><p><img src="https://qiniu.chanmufeng.com/2022-02-04-010209.png" alt="image-20220204090209073" loading="lazy"></p><p>è¿™å°±å‡ºç°äº†ä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜ï¼Œåˆ·æ–°ç£ç›˜å’Œå†™redoæ—¥å¿—éƒ½æ˜¯è¿›è¡Œç£ç›˜æ“ä½œï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥æŠŠæ•°æ®åˆ·æ–°åˆ°ç£ç›˜ä¸­å‘¢ï¼Ÿ</p><h3 id="_3-2-ç£é“å¯»å€" tabindex="-1"><a class="header-anchor" href="#_3-2-ç£é“å¯»å€" aria-hidden="true">#</a> 3.2 ç£é“å¯»å€</h3><p>æˆ‘ä»¬éœ€è¦ç¨å¾®äº†è§£ä¸€ä¸‹ç£é“å¯»å€çš„è¿‡ç¨‹ã€‚ç£ç›˜çš„æ„é€ å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://qiniu.chanmufeng.com/2022-02-04-042928.png" alt="image-20220204122927626" loading="lazy"></p><p>æ¯ä¸ªç¡¬ç›˜éƒ½æœ‰è‹¥å¹²ä¸ªç›˜ç‰‡ï¼Œä¸Šå›¾çš„ç¡¬ç›˜æœ‰4ä¸ªç›˜ç‰‡ã€‚</p><p>æ¯ä¸ªç›˜ç‰‡çš„ç›˜é¢ä¸Šæœ‰ä¸€åœˆåœˆçš„åŒå¿ƒåœ†ï¼Œå«åšã€Œç£é“ã€ã€‚</p><p>ä»åœ†å¿ƒå‘å¤–ç”»ç›´çº¿ï¼Œå¯ä»¥å°†ç£é“åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå¼§æ®µï¼Œæ¯ä¸ªç£é“ä¸Šä¸€ä¸ªå¼§æ®µè¢«ç§°ä¹‹ä¸ºä¸€ä¸ªã€Œæ‰‡åŒºã€ï¼ˆå³ä¸Šå›¾ç™½è‰²éƒ¨åˆ†ï¼‰ã€‚æ•°æ®æ˜¯ä¿å­˜åœ¨æ‰‡åŒºå½“ä¸­çš„ï¼Œæ‰‡åŒºæ˜¯ç¡¬ç›˜è¯»å†™çš„æœ€å°å•å…ƒï¼Œå¦‚æœè¦è¯»å†™æ•°æ®ï¼Œå¿…é¡»æ‰¾åˆ°å¯¹åº”çš„æ‰‡åŒºï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšã€Œå¯»å€ã€ã€‚</p><h4 id="_3-2-1-éšæœºi-o" tabindex="-1"><a class="header-anchor" href="#_3-2-1-éšæœºi-o" aria-hidden="true">#</a> 3.2.1 éšæœºI/O</h4><p>å¦‚æœæˆ‘ä»¬éœ€è¦çš„æ•°æ®æ˜¯éšæœºåˆ†æ•£åœ¨ç£ç›˜ä¸Šä¸åŒç›˜ç‰‡çš„ä¸åŒæ‰‡åŒºä¸­ï¼Œé‚£ä¹ˆæ‰¾åˆ°ç›¸åº”çš„æ•°æ®éœ€è¦ç­‰åˆ°ç£è‡‚æ—‹è½¬åˆ°æŒ‡å®šçš„ç›˜ç‰‡ç„¶åç»§ç»­å¯»æ‰¾å¯¹åº”çš„æ‰‡åŒºï¼Œæ‰èƒ½æ‰¾åˆ°æˆ‘ä»¬æ‰€éœ€è¦çš„ä¸€å—æ•°æ®ï¼ŒæŒç»­è¿›è¡Œæ­¤è¿‡ç¨‹ç›´åˆ°æ‰¾å®Œæ‰€æœ‰æ•°æ®ï¼Œè¿™ä¸ªå°±æ˜¯éšæœºI/Oï¼Œè¯»å–æ•°æ®é€Ÿåº¦éå¸¸æ…¢ã€‚</p><h4 id="_3-2-2-é¡ºåºi-o" tabindex="-1"><a class="header-anchor" href="#_3-2-2-é¡ºåºi-o" aria-hidden="true">#</a> 3.2.2 é¡ºåºI/O</h4><p>å‡è®¾æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†ç¬¬ä¸€å—æ•°æ®ï¼Œå¹¶ä¸”å…¶ä»–æ‰€éœ€çš„æ•°æ®å°±åœ¨è¿™ä¸€å—æ•°æ®ä¹‹åï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦é‡æ–°å¯»å€ï¼Œå¯ä»¥ä¾æ¬¡æ‹¿åˆ°æˆ‘ä»¬æ‰€éœ€çš„æ•°æ®ï¼Œè¿™ä¸ªå°±å«é¡ºåº I/Oã€‚</p><p>ç°åœ¨å›ç­”ä¹‹å‰çš„é—®é¢˜ã€‚å› ä¸ºåˆ·è„æ˜¯éšæœºI/Oï¼Œè€Œè®°å½•æ—¥å¿—æ˜¯é¡ºåºI/Oï¼ˆè¿ç»­å†™çš„ï¼‰ï¼Œé¡ºåºI/Oæ•ˆç‡æ›´é«˜ï¼Œæœ¬è´¨ä¸Šæ˜¯æ•°æ®é›†ä¸­å­˜å‚¨å’Œåˆ†æ•£å­˜å‚¨çš„åŒºåˆ«ã€‚å› æ­¤å…ˆæŠŠä¿®æ”¹å†™å…¥æ—¥å¿—æ–‡ä»¶ï¼Œåœ¨ä¿è¯äº†å†…å­˜æ•°æ®çš„å®‰å…¨æ€§çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å»¶è¿Ÿåˆ·ç›˜æ—¶æœºï¼Œè¿›è€Œæå‡ç³»ç»Ÿååã€‚</p><h3 id="_3-3-redoæ—¥å¿—çš„ç³»ç»Ÿå˜é‡" tabindex="-1"><a class="header-anchor" href="#_3-3-redoæ—¥å¿—çš„ç³»ç»Ÿå˜é‡" aria-hidden="true">#</a> 3.3 redoæ—¥å¿—çš„ç³»ç»Ÿå˜é‡</h3><p>redoæ—¥å¿—ä½äºMySQLæ•°æ®ç›®å½•ä¸‹ï¼Œé»˜è®¤æœ‰<code>ib_logfile0</code>å’Œ<code>ib_logfile1</code>ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://qiniu.chanmufeng.com/2022-02-04-133440.png" alt="image-20220204213439921" loading="lazy"></p><p>å¯ä»¥å‘ç°ï¼Œä¸¤ä¸ªredoæ—¥å¿—æ–‡ä»¶çš„å¤§å°éƒ½æ˜¯50331648ï¼Œé»˜è®¤48MBã€‚ä¸ºä»€ä¹ˆè¿™ä¸ªå¤§å°æ˜¯å›ºå®šçš„å‘¢ï¼Ÿå› ä¸ºå¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨é¡ºåºI/Oï¼Œå°±å¿…é¡»åœ¨ç”³è¯·ç£ç›˜ç©ºé—´çš„æ—¶å€™ä¸€æ¬¡æ€§å†³å®šç”³è¯·çš„ç©ºé—´å¤§å°ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ç”³è¯·çš„ç£ç›˜ç©ºé—´åœ¨åœ°å€ä¸Šçš„è¿ç»­æ€§ã€‚</p><p>è¿™ä¹Ÿå°±å†³å®šäº†redoæ—¥å¿—çš„æ—§æ•°æ®ä¼šè¢«è¦†ç›–ï¼Œä¸€æ—¦æ–‡ä»¶è¢«å†™æ»¡ï¼Œå°±ä¼šè§¦å‘Buffer Poolè„é¡µåˆ°ç£ç›˜çš„åŒæ­¥ï¼Œä»¥è…¾å‡ºé¢å¤–ç©ºé—´è®°å½•åé¢çš„ä¿®æ”¹ã€‚</p><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤æŸ¥çœ‹redoæ—¥å¿—çš„ç³»ç»Ÿå±æ€§ã€‚</p><div class="language-SQL ext-SQL line-numbers-mode"><pre class="language-SQL"><code>mysql&gt; show variables like &#39;innodb_log%&#39;;
+-----------------------------+----------+
| Variable_name               | Value    |
+-----------------------------+----------+
| innodb_log_buffer_size      | 16777216 |
| innodb_log_checksums        | ON       |
| innodb_log_compressed_pages | ON       |
| innodb_log_file_size        | 50331648 |
| innodb_log_files_in_group   | 2        |
| innodb_log_group_home_dir   | ./       |
| innodb_log_write_ahead_size | 8192     |
+-----------------------------+----------+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:center;">å‚æ•°åç§°</th><th style="text-align:center;">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center;">innodb_log_file_size</td><td style="text-align:center;">æŒ‡å®šæ¯ä¸ªredoæ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼Œé»˜è®¤48MB</td></tr><tr><td style="text-align:center;">innodb_log_files_in_group</td><td style="text-align:center;">æŒ‡å®šredoæ—¥å¿—æ–‡ä»¶çš„æ•°é‡ï¼Œé»˜è®¤2</td></tr><tr><td style="text-align:center;">innodb_log_group_home_dir</td><td style="text-align:center;">æŒ‡å®šredoæ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸ºdatadirç›®å½•</td></tr></tbody></table><p>ä»‹ç»åˆ°è¿™é‡Œï¼Œè¯»è€…æœ‹å‹å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬åˆšæ‰æ¢ç´¢çš„æ˜¯å¦‚ä½•è®©å·²ç»æäº¤çš„äº‹åŠ¡ä¿æŒæŒä¹…åŒ–ï¼Œä½†æ˜¯å¦‚æœæŸäº›äº‹åŠ¡åååœ¨æ‰§è¡Œåˆ°ä¸€åŠçš„æ—¶å€™å‡ºç°é—®é¢˜æ€ä¹ˆåŠï¼Ÿ</p><p>äº‹åŠ¡çš„åŸå­æ€§è¦æ±‚äº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼Œä¸å…è®¸å­˜åœ¨ä¸­é—´çŠ¶æ€ã€‚å°±å¥½æ¯”æˆ‘åœ¨å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œä¼šæ—¶ä¸æ—¶åœ°æ•²ä¸€ä¸‹<code>ctrl+Z</code>è¿”å›åˆ°ä¸Šä¸€æ­¥æˆ–è€…è¿‡å»å¥½å‡ æ­¥ä¹‹å‰çš„çŠ¶æ€ï¼ŒMySQLä¹Ÿéœ€è¦â€œç•™ä¸€æ‰‹â€ï¼ŒæŠŠäº‹åŠ¡å›æ»šæ—¶éœ€è¦çš„ä¸œè¥¿éƒ½è®°å½•ä¸‹æ¥ã€‚</p><p>æ¯”å¦‚ï¼Œæ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œè‡³å°‘åº”è¯¥æŠŠæ–°å¢çš„è¿™æ¡è®°å½•çš„ä¸»é”®çš„å€¼è®°å½•ä¸‹æ¥ï¼Œè¿™æ ·å›æ»šçš„æ—¶å€™åªè¦æŠŠè¿™ä¸ªä¸»é”®å€¼å¯¹åº”çš„è®°å½•åˆ é™¤å°±å¯ä»¥äº†ã€‚</p><p>MySQLåˆä¸€ä¸ªé¼é¼å¤§åçš„æ—¥å¿—â€”â€”<strong>undoæ—¥å¿—</strong>ï¼Œæ­£å¼ç™»åœºï¼</p><h2 id="_4-undoæ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#_4-undoæ—¥å¿—" aria-hidden="true">#</a> 4. undoæ—¥å¿—</h2><p>undo logï¼ˆæ’¤é”€æ—¥å¿—æˆ–å›æ»šæ—¥å¿—ï¼‰è®°å½•äº†äº‹åŠ¡å‘ç”Ÿä¹‹å‰çš„æ•°æ®çŠ¶æ€ï¼Œåˆ†ä¸ºinsert undo logå’Œupdate undo logã€‚</p><p>å¦‚æœä¿®æ”¹æ•°æ®æ—¶å‡ºç°å¼‚å¸¸ï¼Œå¯ä»¥ç”¨ undo logæ¥å®ç°å›æ»šæ“ä½œï¼ˆä¿æŒåŸå­æ€§ï¼‰ã€‚å¯ä»¥ç†è§£ä¸ºundoæ—¥å¿—è®°å½•çš„æ˜¯åå‘çš„æ“ä½œï¼Œæ¯”å¦‚INSERTæ“ä½œä¼šè®°å½•DELETEï¼ŒUPDATEä¼šè®°å½•UPDATEä¹‹å‰çš„å€¼ï¼Œå’Œredoæ—¥å¿—è®°å½•åœ¨å“ªä¸ªç‰©ç†é¡µé¢åšäº†ä»€ä¹ˆæ“ä½œä¸åŒï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§é€»è¾‘æ ¼å¼çš„æ—¥å¿—ã€‚</p><p>undoæ—¥å¿—å’Œredoæ—¥å¿—ä¸äº‹åŠ¡å¯†åˆ‡ç›¸å…³ï¼Œè¢«ç»Ÿç§°ä¸ºã€Œäº‹åŠ¡æ—¥å¿—ã€ã€‚</p><p><img src="https://qiniu.chanmufeng.com/2022-02-05-042804.png" alt="image-20220205122803785" loading="lazy"></p><blockquote><p>å…³äºundoæ—¥å¿—ï¼Œæˆ‘ä»¬ç›®å‰åªéœ€è¦äº†è§£è¿™ä¹ˆå¤šå³å¯</p></blockquote><h2 id="_5-sqlæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”åˆç‰ˆ" tabindex="-1"><a class="header-anchor" href="#_5-sqlæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”åˆç‰ˆ" aria-hidden="true">#</a> 5. SQLæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”åˆç‰ˆ</h2><p>æœ‰äº†äº‹åŠ¡æ—¥å¿—ä¹‹åï¼Œæˆ‘ä»¬æ¥ç®€å•æ€»ç»“ä¸€ä¸‹æ›´æ–°æ“ä½œçš„æµç¨‹ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„è¿‡ç¨‹ã€‚</p><p>name åŸå€¼æ˜¯<code>chanmufeng</code>ã€‚</p><div class="language-SQL ext-SQL line-numbers-mode"><pre class="language-SQL"><code>update t_user_innodb set name =&#39;chanmufeng1994&#39; where id = 1;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>äº‹åŠ¡å¼€å§‹ï¼Œä»å†…å­˜ï¼ˆBuffer Poolï¼‰æˆ–ç£ç›˜å–åˆ°åŒ…å«è¿™æ¡æ•°æ®çš„æ•°æ®é¡µï¼Œè¿”å›ç»™ Server çš„æ‰§è¡Œå™¨ï¼›</li><li>Server çš„æ‰§è¡Œå™¨ä¿®æ”¹æ•°æ®é¡µçš„è¿™ä¸€è¡Œæ•°æ®çš„å€¼ä¸º chanmufeng1994ï¼›</li><li>è®°å½• name=chanmufeng åˆ°undo logï¼›</li><li>è®°å½• name=chanmufeng1994åˆ°redo logï¼›</li><li>è°ƒç”¨å­˜å‚¨å¼•æ“æ¥å£ï¼Œè®°å½•æ•°æ®é¡µåˆ°Buffer Poolï¼ˆä¿®æ”¹ name=penyuyanï¼‰ï¼›</li><li>äº‹åŠ¡æäº¤ã€‚</li></ol><h2 id="_6-binlogæ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#_6-binlogæ—¥å¿—" aria-hidden="true">#</a> 6. binlogæ—¥å¿—</h2><p>ä¹‹å‰æˆ‘ä»¬è®²è¿‡ï¼Œä»MySQLæ•´ä½“æ¶æ„æ¥çœ‹ï¼Œå…¶å®å¯ä»¥åˆ†æˆä¸¤éƒ¨åˆ†</p><ul><li>Server å±‚ï¼Œå®ƒä¸»è¦åšçš„æ˜¯ MySQLåŠŸèƒ½å±‚é¢çš„äº‹æƒ…ï¼Œæ¯”å¦‚å¤„ç†è¿æ¥ã€è§£æä¼˜åŒ–ç­‰ï¼›</li><li>å­˜å‚¨å¼•æ“å±‚ï¼Œè´Ÿè´£å­˜å‚¨ç›¸å…³çš„å…·ä½“äº‹å®œã€‚</li></ul><p>redoæ—¥å¿—æ˜¯InnoDBå­˜å‚¨å¼•æ“ç‰¹æœ‰çš„æ—¥å¿—ï¼Œè€ŒServerå±‚ä¹Ÿæœ‰è‡ªå·±çš„æ—¥å¿—ï¼Œç§°ä¸º binlogï¼ˆå½’æ¡£æ—¥å¿—ï¼‰ï¼Œå®ƒå¯ä»¥è¢«æ‰€æœ‰å­˜å‚¨å¼•æ“ä½¿ç”¨ã€‚</p><h3 id="_6-1-ä¸ºä»€ä¹ˆæœ‰äº†redoæ—¥å¿—è¿˜éœ€è¦-binlog" tabindex="-1"><a class="header-anchor" href="#_6-1-ä¸ºä»€ä¹ˆæœ‰äº†redoæ—¥å¿—è¿˜éœ€è¦-binlog" aria-hidden="true">#</a> 6.1 ä¸ºä»€ä¹ˆæœ‰äº†redoæ—¥å¿—è¿˜éœ€è¦ binlogï¼Ÿ</h3><p>æˆ‘æƒ³ä½ å¯èƒ½ä¼šé—®å‡ºè¿™ä¸ªé—®é¢˜ï¼Œå®é™…ä¸Šï¼Œæ›´å‡†ç¡®çš„é—®æ³•æ˜¯ä¸ºä»€ä¹ˆæœ‰äº†binlogè¿˜éœ€è¦æœ‰redoæ—¥å¿—ï¼Ÿä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ã€‚</p><ol><li><p>å› ä¸ºæœ€å¼€å§‹MySQLé‡Œå¹¶æ²¡æœ‰InnoDBå­˜å‚¨å¼•æ“ã€‚MySQLè‡ªå¸¦çš„å¼•æ“æ˜¯MyISAMï¼Œä½†æ˜¯ MyISAMæ²¡æœ‰å´©æºƒæ¢å¤çš„èƒ½åŠ›ï¼ŒInnoDBåæ¥ä»¥æ’ä»¶çš„å½¢å¼è¢«å¼•å…¥ï¼Œé¡ºä¾¿å¸¦æ¥äº†redoæ—¥å¿—ï¼›</p></li><li><p>binlogæ—¥å¿—æ˜¯ç”¨æ¥å½’æ¡£çš„ï¼Œbinlogä»¥äº‹ä»¶çš„å½¢å¼è®°å½•äº†æ‰€æœ‰çš„ DDLå’Œ DML è¯­å¥ï¼ˆå› ä¸ºå®ƒè®°å½•çš„æ˜¯æ“ä½œè€Œä¸æ˜¯ æ•°æ®å€¼ï¼Œå±äºé€»è¾‘æ—¥å¿—ï¼‰ï¼Œä½†æ˜¯ä¸å…·å¤‡å®•æœºæ¢å¤çš„åŠŸèƒ½ï¼Œå› ä¸ºå¯èƒ½æ²¡æœ‰æ¥å¾—åŠåˆ·æ–°è„é¡µï¼Œé€ æˆè„é¡µæ•°æ®çš„ä¸¢å¤±ï¼Œè€Œè¿™äº›æ“ä½œä¹Ÿæ²¡æœ‰ä¿å­˜åˆ°binlogä¸­ä»è€Œé€ æˆæ•°æ®ä¸¢å¤±ï¼›</p></li><li><p>binlogè®°å½•çš„æ˜¯å…³äºä¸€ä¸ªäº‹åŠ¡çš„å…·ä½“æ“ä½œå†…å®¹ï¼Œå³è¯¥æ—¥å¿—æ˜¯é€»è¾‘æ—¥å¿—ã€‚è€Œredoæ—¥å¿—è®°å½•çš„æ˜¯å…³äºæ¯ä¸ªé¡µçš„æ›´æ”¹çš„ç‰©ç†æƒ…å†µã€‚åŠŸèƒ½å‹æ ¹ä¸æ˜¯ä¸€å›äº‹å„¿ã€‚</p></li></ol><h3 id="_6-2-binlogæ—¥å¿—çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_6-2-binlogæ—¥å¿—çš„ä½œç”¨" aria-hidden="true">#</a> 6.2 binlogæ—¥å¿—çš„ä½œç”¨</h3><h4 id="_6-2-1-ä¸»ä»å¤åˆ¶" tabindex="-1"><a class="header-anchor" href="#_6-2-1-ä¸»ä»å¤åˆ¶" aria-hidden="true">#</a> 6.2.1 ä¸»ä»å¤åˆ¶</h4><p>binlogæ˜¯å®ç°MySQLä¸»ä»å¤åˆ¶åŠŸèƒ½çš„æ ¸å¿ƒç»„ä»¶ã€‚</p><p>masterèŠ‚ç‚¹ä¼šå°†æ‰€æœ‰çš„å†™æ“ä½œè®°å½•åˆ°binlogä¸­ï¼ŒslaveèŠ‚ç‚¹ä¼šæœ‰ä¸“é—¨çš„I/Oçº¿ç¨‹è¯»å–masterèŠ‚ç‚¹çš„binlogï¼Œå°†å†™æ“ä½œåŒæ­¥åˆ°å½“å‰æ‰€åœ¨çš„slaveèŠ‚ç‚¹ã€‚</p><p><img src="https://qiniu.chanmufeng.com/2022-02-05-031636.png" alt="image-20220205111635571" loading="lazy"></p><h4 id="_6-2-2-æ•°æ®æ¢å¤" tabindex="-1"><a class="header-anchor" href="#_6-2-2-æ•°æ®æ¢å¤" aria-hidden="true">#</a> 6.2.2 æ•°æ®æ¢å¤</h4><p>å‡å¦‚ä½ åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« çš„æ—¶å€™è§‰å¾—æˆ‘å†™å¾—å®åœ¨å¤ªå¥½ï¼Œæ‹æ¡ˆå«ç»çš„æ—¶å€™ä¸€ä¸å°å¿ƒæŠŠå…¬å¸çš„æ•°æ®åº“ç»™åˆ äº†ï¼Œä½ è¯¥æ€ä¹ˆåšæ‰èƒ½æ¢å¤åˆ°ä½ åˆ åº“ä¹‹å‰çš„é‚£ä¸ªæ—¶åˆ»çš„çŠ¶æ€ï¼Ÿ</p><p>è¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°binlogäº†ï¼Œå‰ææ˜¯binlogæ²¡æœ‰è¢«åˆ é™¤ï¼Œå¦åˆ™ï¼Œç¥ä»™ä¹Ÿæ•‘ä¸äº†ä½ äº†ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå…¬å¸ä¼šå®šæœŸå¯¹æ•°æ®åº“è¿›è¡Œå…¨é‡å¤‡ä»½ï¼Œå¯èƒ½éš”ä¸€ä¸ªæœˆï¼Œä¸€å‘¨ï¼Œç”šè‡³å¯èƒ½æ¯å¤©éƒ½å¤‡ä»½ä¸€æ¬¡ã€‚è¿æ°”å¥½çš„è¯ä½ å¯ä»¥ä½¿ç”¨å‰ä¸€å¤©çš„å…¨é‡å¤‡ä»½ï¼Œæ¢å¤åˆ°å‰ä¸€å¤©çš„æŸæ—¶åˆ»çŠ¶æ€ï¼ˆæˆ–è€…ä¸€å‘¨ã€ä¸€æœˆä¹‹å‰ï¼‰ï¼Œç„¶åä»å…¨é‡å¤‡ä»½çš„æ—¶åˆ»å¼€å§‹ï¼Œä»binlogä¸­æå–è¯¥æ—¶åˆ»ä¹‹åï¼ˆå‰ææ˜¯ä½ çš„binlogé‡Œé¢å­˜æ”¾äº†è¿™æ®µæ—¶é—´çš„æ—¥å¿—ï¼‰çš„æ‰€æœ‰å†™æ“ä½œï¼ˆå½“ç„¶ï¼Œä½ å¾—è¿‡æ»¤æ‰ä½ çš„åˆ åº“æ“ä½œï¼‰ï¼Œç„¶åè¿›è¡Œæ“ä½œå›æ”¾å°±å¯ä»¥äº†ã€‚</p><p>æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿ</p><p>é—®é¢˜åˆæ¥äº†ã€‚å†çœ‹ä¸€çœ¼æˆ‘ä»¬çš„æ›´æ–°è¯­å¥ã€‚</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> t_user_innodb <span class="token keyword">set</span> name <span class="token operator">=</span><span class="token string">&#39;chanmufeng1994&#39;</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å‡å¦‚è¿™æ¡æ›´æ–°è¯­å¥å·²ç»è¢«å†™å…¥åˆ°äº†redoæ—¥å¿—ï¼Œè¿˜æ²¡æ¥å¾—åŠå†™binlogçš„æ—¶å€™ï¼ŒMySQLå®•æœºé‡å¯äº†ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p><p>å› ä¸ºredoæ—¥å¿—å¯ä»¥åœ¨é‡å¯çš„æ—¶å€™ç”¨äºæ¢å¤æ•°æ®ï¼Œæ‰€ä»¥å†™å…¥ç£ç›˜çš„æ˜¯chanmufeng1994ã€‚ä½†æ˜¯binlogé‡Œé¢æ²¡æœ‰è®°å½•è¿™ä¸ªé€»è¾‘æ—¥å¿—ï¼Œæ‰€ä»¥è¿™æ—¶å€™ç”¨binlogå»æ¢å¤æ•°æ®æˆ–è€…åŒæ­¥åˆ°ä»åº“ï¼Œå°±ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p><p>æ‰€ä»¥åœ¨å†™ä¸¤ä¸ªæ—¥å¿—çš„æƒ…å†µä¸‹ï¼Œå°±ç±»ä¼¼äºã€Œåˆ†å¸ƒå¼äº‹åŠ¡ã€çš„æƒ…å†µï¼Œå¦‚æœä½ ä¸æ¸…æ¥šåˆ†å¸ƒå¼äº‹åŠ¡æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘åœ¨ä¹‹åçš„æ–‡ç« ä¼šä»‹ç»åˆ°ã€‚èƒ½å¤Ÿæ˜ç¡®çš„å°±æ˜¯redoæ—¥å¿—å’Œbinlogæ—¥å¿—å¦‚æœå•çº¯ä¾æ¬¡è¿›è¡Œæäº¤æ˜¯æ— æ³•ä¿è¯ä¸¤ç§æ—¥å¿—éƒ½å†™æˆåŠŸæˆ–è€…éƒ½å†™å¤±è´¥çš„ã€‚</p><p>æˆ‘ä»¬éœ€è¦ã€Œä¸¤é˜¶æ®µæäº¤ã€ã€‚</p><h3 id="_6-3-ä¸¤é˜¶æ®µæäº¤" tabindex="-1"><a class="header-anchor" href="#_6-3-ä¸¤é˜¶æ®µæäº¤" aria-hidden="true">#</a> 6.3 ä¸¤é˜¶æ®µæäº¤</h3><blockquote><p>ä¸¤é˜¶æ®µæäº¤ä¸æ˜¯MySQLçš„ä¸“åˆ©ï¼Œä¸¤é˜¶æ®µæäº¤æ˜¯ä¸€ç§è·¨ç³»ç»Ÿç»´æŒæ•°æ®é€»è¾‘ä¸€è‡´æ€§çš„å¸¸è§æ–¹æ¡ˆï¼Œå°¤å…¶åœ¨åˆ†å¸ƒå¼äº‹åŠ¡ä¸Šï¼Œæ‰€ä»¥è¯·è¯»è€…é‡ç‚¹ä½“ä¼šæ€æƒ³</p></blockquote><p>æˆ‘ä»¬æŠŠredoæ—¥å¿—çš„æäº¤åˆ†æˆä¸¤æ­¥ï¼Œä¸¤æ­¥ä¸­redoæ—¥å¿—çš„çŠ¶æ€åˆ†åˆ«æ˜¯<code>prepare</code>å’Œ<code>commit</code>ã€‚æ­¥éª¤å¦‚ä¸‹</p><ol><li><p>InnoDBå­˜å‚¨å¼•æ“å°†æ›´æ”¹æ›´æ–°åˆ°å†…å­˜ä¸­åï¼ŒåŒæ—¶å°†è¿™ä¸ªæ›´æ–°æ“ä½œè®°å½•åˆ°redoæ—¥å¿—é‡Œé¢ï¼Œæ­¤æ—¶redoæ—¥å¿—å¤„äº<code>prepare</code>çŠ¶æ€ï¼›</p></li><li><p>æ‰§è¡Œå™¨ç”Ÿæˆè¿™ä¸ªæ“ä½œçš„binlogï¼Œå¹¶å°†binlogåˆ·ç›˜ï¼›</p></li><li><p>æ‰§è¡Œå™¨è°ƒç”¨InnoDBçš„æäº¤äº‹åŠ¡æ¥å£ï¼ŒInnoDBæŠŠåˆšåˆšå†™å…¥çš„redoæ—¥å¿—æ”¹æˆ<code>commit</code>çŠ¶æ€ã€‚è‡³æ­¤ï¼Œæ‰€æœ‰æ“ä½œå®Œæˆã€‚</p></li></ol><p><img src="https://qiniu.chanmufeng.com/2022-02-05-074320.png" alt="image-20220205154320275" loading="lazy"></p><p>åŠ ä¸Šä¸¤é˜¶æ®µæäº¤ä¹‹åæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹SQLæ›´æ–°è¯­å¥çš„æ‰§è¡Œæµç¨‹ã€‚</p><h2 id="_7-sqlæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”ç»ˆç‰ˆ" tabindex="-1"><a class="header-anchor" href="#_7-sqlæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”ç»ˆç‰ˆ" aria-hidden="true">#</a> 7. SQLæ›´æ–°è¯­å¥çš„æ‰§è¡Œæ€»ç»“â€”â€”ç»ˆç‰ˆ</h2><p><img src="https://qiniu.chanmufeng.com/2022-02-05-090459.png" alt="image-20220205170459424" loading="lazy"></p><ol><li>å®¢æˆ·ç«¯å‘é€æ›´æ–°å‘½ä»¤åˆ°MySQLæœåŠ¡å™¨ï¼Œç»è¿‡å¤„ç†è¿æ¥ã€è§£æä¼˜åŒ–ç­‰æ­¥éª¤ï¼›</li><li>Serverå±‚å‘InnoDBå­˜å‚¨å¼•æ“è¦id=1çš„è¿™æ¡è®°å½•ï¼›</li><li>å­˜å‚¨å¼•æ“å…ˆä»ç¼“å­˜ä¸­æŸ¥æ‰¾è¿™æ¡è®°å½•ï¼Œæœ‰çš„è¯ç›´æ¥è¿”å›ï¼Œæ²¡æœ‰åˆ™ä»ç£ç›˜åŠ è½½åˆ°ç¼“å­˜ä¸­ç„¶åè¿”å›ï¼›</li><li>Serverå±‚æ‰§è¡Œå™¨ä¿®æ”¹è¿™æ¡è®°å½•çš„nameå­—æ®µå€¼ï¼›</li><li>å­˜å‚¨å¼•æ“æ›´æ–°ä¿®æ”¹åˆ°å†…å­˜ä¸­ï¼›</li><li>å­˜å‚¨å¼•æ“è®°å½•redoæ—¥å¿—ï¼Œå¹¶å°†çŠ¶æ€è®¾ç½®ä¸º<code>prepare</code>çŠ¶æ€ï¼›</li><li>å­˜å‚¨å¼•æ“é€šçŸ¥æ‰§è¡Œå™¨ï¼Œä¿®æ”¹å®Œæ¯•ï¼Œå¯ä»¥è¿›è¡Œäº‹åŠ¡æäº¤ï¼›</li><li>Serverå…ˆå†™äº†ä¸ªbinlogï¼›</li><li>Serveræäº¤äº‹åŠ¡ï¼›</li><li>å­˜å‚¨å¼•æ“å°†redoæ—¥å¿—ä¸­å’Œå½“å‰äº‹åŠ¡ç›¸å…³çš„è®°å½•çŠ¶æ€è®¾ç½®ä¸º<code>commit</code>çŠ¶æ€ã€‚</li></ol><p>å®Œï¼</p><h2 id="æ¨èé˜…è¯»" tabindex="-1"><a class="header-anchor" href="#æ¨èé˜…è¯»" aria-hidden="true">#</a> æ¨èé˜…è¯»</h2><ul><li><a href="https://mp.weixin.qq.com/s?__biz=MzI1MDU0MTc2MQ==&amp;mid=2247484069&amp;idx=1&amp;sn=d40d90ab9e3041757262be5192a46e9e&amp;chksm=e981e10bdef6681dde2ede9c1293e4b379fb827ab3c7d64ae828311c4ee14e19e20d7537d5f0#rd" target="_blank" rel="noopener noreferrer">ä¸€æ¡SQLæŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-hidden="true">#</a> å‚è€ƒèµ„æ–™</h2><ol><li><p>MySQLå®æˆ˜45è®²</p></li><li><p>MySQLæ˜¯æ€æ ·è¿è¡Œçš„</p></li></ol></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/8/3 06:14:46</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: zhaoxaolong@163.com">chanmufeng</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/posts/storage/MySQL/%E4%B8%80%E6%9D%A1SELECT%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84.html" class="nav-link prev" aria-label="ä¸€æ¡SELECTè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="icon iconfont icon-creative"></span>ä¸€æ¡SELECTè¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„</div></a><!----></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href='https://beian.miit.gov.cn/'>é²ICPå¤‡20023913å·</a></div><div class="copyright">Copyright Â© 2022 è‰æ²é£</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.e63a78e2.js" defer></script>
  </body>
</html>
