import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{o as c,c as o,e as t}from"./app.e63a78e2.js";const d={},s=t(`<p>\u5F53\u4F60\u73A9\u513F\u591F\u4E86<code>send()</code>\u548C<code>recv()</code>\uFF0C\u4F60\u53EF\u80FD\u60F3\u5173\u95ED\u4F60\u7684<code>socket descriptor</code>\u8FDE\u63A5\u4E86\uFF0C\u8FD9\u4E2A\u64CD\u4F5C\u5F88\u7B80\u5355\uFF0C\u53EA\u9700\u8981\u8C03\u7528<code>close()</code>\u51FD\u6570\u5C31\u53EF\u4EE5\u4E86\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">close</span><span class="token punctuation">(</span>sockfd<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8FD9\u5C06\u907F\u514D<code>sockfd</code>\u8FDB\u884C\u66F4\u591A\u7684\u8BFB\u5199\u64CD\u4F5C\uFF0C\u4EFB\u4F55\u60F3\u8981\u5BF9\u8FD9\u4E2A<code>socket</code>\u8FDB\u884C\u8BFB\u5199\u7684\u64CD\u4F5C\u90FD\u4F1A\u62A5\u9519\u3002</p><p>\u5982\u679C\u4F60\u60F3\u5BF9<code>socket</code>\u5173\u95ED\u7684\u59FF\u52BF\u591A\u4E00\u70B9\u63A7\u5236\uFF0C\u90A3\u4F60\u5E94\u8BE5\u4F7F\u7528\u7684\u662F<code>shutdown()</code>\u51FD\u6570\uFF0C\u5B83\u5141\u8BB8\u9009\u62E9\u6027\u5730\u5207\u65AD\u5355\u5411\u8FDE\u63A5\u6216\u8005\u53CC\u5411\u8FDE\u63A5\uFF08\u8FD9\u4E00\u70B9\u548C<code>close()</code>\u4E00\u6837\uFF09\u3002\u8BED\u6CD5\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token keyword">int</span> sockfd<span class="token punctuation">,</span> <span class="token keyword">int</span> how<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>sockfd</code>\u8868\u793A\u4F60\u60F3\u5173\u95ED\u7684<code>socket file descriptor</code>\uFF0C<code>how</code>\u7684\u53C2\u6570\u4EE5\u53CA\u542B\u4E49\u89C1\u4E0B\u8868\uFF1A</p><table><thead><tr><th style="text-align:center;">how\u7684\u503C</th><th style="text-align:center;">\u542B\u4E49</th></tr></thead><tbody><tr><td style="text-align:center;">0</td><td style="text-align:center;">\u7981\u6B62\u63A5\u6536\u6570\u636E</td></tr><tr><td style="text-align:center;">1</td><td style="text-align:center;">\u7981\u6B62\u53D1\u9001\u6570\u636E</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">\u7981\u6B62\u63A5\u6536\u3001\u53D1\u9001\u6570\u636E\uFF08\u548C<code>close()</code>\u76F8\u540C\uFF09</td></tr></tbody></table><p><code>shutdown()</code>\u6210\u529F\u65F6\u8FD4\u56DE<code>0</code>\uFF0C\u5931\u8D25\u65F6\u8FD4\u56DE<code>-1</code>\uFF0C\u5E76\u4E14\u8BBE\u7F6E\u5168\u5C40\u53D8\u91CF<code>errno</code>\u3002</p><p>\u5982\u679C\u4F60\u5728<code>unconnected datagram socket</code>\u4E0A\u4F7F\u7528<code>shutdown()</code>\uFF0C\u5B83\u53EA\u4F1A\u5355\u7EAF\u5730\u8BA9<code>socket</code>\u65E0\u6CD5\u7EE7\u7EED\u8FDB\u884C<code>send()</code>\u548C<code>recv()</code>\u8C03\u7528\u3002\u5982\u679C\u4F60\u60F3\u8BA9<code>shutdown()</code>\u53D1\u6325\u539F\u672C\u7684\u4F5C\u7528\uFF0C\u90A3\u4E48\u4F60\u5E94\u8BE5\u628A\u5B83\u7528\u5728\u4F7F\u7528\u4E86<code>connect()</code>\u51FD\u6570\u7684<code>datagram socket</code>\u8EAB\u4E0A\u3002</p><p>\u9700\u8981\u5F3A\u8C03\u7684\u662F\uFF0C<code>shutdown()</code>\u5E76\u4E0D\u4F1A\u5B9E\u9645\u5173\u95ED<code>file descriptor</code>\uFF0C\u53EA\u662F\u6539\u53D8\u4E86\u53EF\u7528\u72B6\u6001\u800C\u5DF2\u3002\u60F3\u8981\u771F\u6B63\u91CA\u653E<code>file descriptor</code>\uFF0C\u4F60\u8FD8\u662F\u5F97\u8C03\u7528<code>close()</code>\u3002</p><p>\u6CA1\u4E86\u3002</p><p>\u300C\u5BF9\u4E86\uFF0C\u5982\u679C\u4F60\u7528\u7684\u662F<code>Windows</code>\u548C<code>Winsock</code>\uFF0C\u4F60\u9700\u8981\u7528\u7684\u662F<code>closesocket()</code>\uFF0C\u800C\u4E0D\u662F<code>close()</code>\uFF0C\u8C28\u8BB0\uFF01\u300D</p>`,12),n=[s];function a(l,r){return c(),o("div",null,n)}var u=e(d,[["render",a],["__file","close-shutdown.html.vue"]]);export{u as default};
