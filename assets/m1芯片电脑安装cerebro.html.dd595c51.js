import{_ as a}from"./plugin-vue_export-helper.21dcd24c.js";import{o,c as r,a as e,b as c,d as n,e as i,r as l}from"./app.32d8daf0.js";const d={},t=e("p",null,[e("code",null,"cerebro"),n("\u662F\u4E00\u6B3E"),e("code",null,"Elasticsearch"),n("\u96C6\u7FA4\u7684\u76D1\u63A7\u5DE5\u5177\uFF0C\u754C\u9762\u7F8E\u89C2\u53C8\u7B80\u6D01\uFF0C\u662F\u5B66\u4E60"),e("code",null,"Elasticsearch"),n("\u7684\u597D\u5DE5\u5177\u3002")],-1),p=e("p",null,[e("img",{src:"http://qiniu.chanmufeng.com/2022-06-09-075948.png",alt:"image-20220609155947859",loading:"lazy"})],-1),m=n("\u5B98\u65B9\u5730\u5740\uFF1A"),u={href:"https://github.com/lmenezes/cerebro/releases",target:"_blank",rel:"noopener noreferrer"},v=n("https://github.com/lmenezes/cerebro/releases"),b=i(`<p>\u6211\u7528\u7684\u662F<code>M1</code>\u82AF\u7247\u7684Mac\u7B14\u8BB0\u672C\uFF0C\u5728\u5B89\u88C5<code>cerebro</code>\u7684\u8FC7\u7A0B\u4E2D\u9047\u5230\u4E24\u4E2A\u95EE\u9898\u3002</p><ol><li><code>cerebro</code>\u7684\u6700\u65B0\u7248\u672C\uFF080.9.4\uFF09\u5E76\u672A\u63D0\u4F9B\u9002\u914D<code>M1</code>\u82AF\u7247\u7684\u53D1\u884C\u7248\uFF1B</li><li><code>cerebro</code>\u8981\u6C42JDK\u7248\u672C\u6700\u4F4E\u662F11\uFF0C\u800C\u6211\u672C\u5730\u5F00\u53D1\u7528\u7684\u662FJDK8\uFF0C\u6211\u5E76\u4E0D\u60F3\u56E0\u4E3A\u8FD9\u4E2A\u8F6F\u4EF6\u518D\u591A\u6298\u817EJDK\u7684\u7248\u672C\u3002\u56E0\u6B64\u6211\u9009\u62E9\u4F7F\u7528<code>Docker</code>\u6765\u8DD1<code>cerebro</code>\u3002</li></ol><p>\u4E0D\u51FA\u610F\u5916\uFF0C\u5B98\u7F51\u7684<code>cerebro</code>\u7684<code>Docker</code>\u955C\u50CF\u65E0\u6CD5\u5728\u6211\u7684<code>M1</code>\u7535\u8111\u4E0A\u6B63\u5E38\u8FD0\u884C\u3002</p><p>\u4E8E\u662F\u81EA\u5DF1\u52A8\u624B\u7F16\u8BD1\u9002\u5408M1\u82AF\u7247\u7684<code>Dockerfile</code>\uFF0C\u5E76\u751F\u6210\u4E86\u955C\u50CF\u6587\u4EF6\u4F20\u5230\u4E86\u81EA\u5DF1\u7684\u4ED3\u5E93\uFF0C\u5982\u679C\u4E0D\u60F3\u6298\u817E\u5C31\u76F4\u63A5\u62C9\u8FD9\u4E2A\u955C\u50CF\u8FD0\u884C\u5C31\u53EF\u4EE5\u4E86\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull chanmufeng/cerebro:0.9.4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u60F3\u6298\u817E\u7684\u7EE7\u7EED\u5F80\u4E0B\u770B\uFF0C<code>Dockerfile</code>\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B\uFF1A</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token comment"># \u4F7F\u7528 arm64v8 \u67B6\u6784\u7684 jdk11\u7248\u672C</span>
<span class="token instruction"><span class="token keyword">FROM</span> docker.io/arm64v8/openjdk:11 </span>

<span class="token comment"># cerebro \u7248\u672C\u53F7</span>
<span class="token instruction"><span class="token keyword">ENV</span> CEREBRO_VERSION 0.9.4</span>

<span class="token instruction"><span class="token keyword">RUN</span>  apt-get update <span class="token operator">\\</span>
    &amp;&amp; apt-get install -y wget <span class="token operator">\\</span>
    &amp;&amp; apt-get install -y apt-transport-https <span class="token operator">\\</span>
    &amp;&amp; rm -rf /var/lib/apt/lists/* <span class="token operator">\\</span>
    &amp;&amp; mkdir -p /opt/cerebro/logs <span class="token operator">\\</span>
    &amp;&amp; wget -qO- https://github.com/lmenezes/cerebro/releases/download/v<span class="token variable">\${CEREBRO_VERSION}</span>/cerebro-<span class="token variable">\${CEREBRO_VERSION}</span>.tgz <span class="token operator">\\</span>
    | tar xzv --strip-components 1 -C /opt/cerebro <span class="token operator">\\</span>
    &amp;&amp; sed -i <span class="token string">&#39;/&lt;appender-ref ref=&quot;FILE&quot;\\/&gt;/d&#39;</span> /opt/cerebro/conf/logback.xml <span class="token operator">\\</span>
    &amp;&amp; addgroup -gid 1000 cerebro <span class="token operator">\\</span>
    &amp;&amp; adduser -gid 1000 -uid 1000 cerebro <span class="token operator">\\</span>
    &amp;&amp; chown -R cerebro:cerebro /opt/cerebro</span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> /opt/cerebro</span>
<span class="token instruction"><span class="token keyword">USER</span> cerebro</span>

<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [ <span class="token string">&quot;/opt/cerebro/bin/cerebro&quot;</span> ]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F00\u59CB\u6784\u5EFA\u955C\u50CF</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker build -t my-cerebro:0.9.4 .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6784\u5EFA\u8FC7\u7A0B\u5F88\u6162\uFF0C\u53EF\u80FD\u67D0\u4E9B\u6587\u4EF6\u8FD8\u9700\u8981\u7FFBqiang\u624D\u80FD\u4E0B\u8F7D\u6210\u529F\uFF0C\u6784\u5EFA\u6210\u529F\u4E4B\u540E\u770B\u4E00\u4E0B\u4F60\u672C\u5730\u7684\u955C\u50CF\u6587\u4EF6\u5217\u8868\u5427</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\u279C  bin <span class="token function">docker</span> images
REPOSITORY                                      TAG       IMAGE ID       CREATED        SIZE
my-cerebro                                      <span class="token number">0.9</span>.4     4c103685731e   <span class="token number">3</span> days ago     713MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD0\u884C\u955C\u50CF</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -p 9000:9000 my-cerebro:0.9.4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>\u6536\u5DE5\uFF01</p>`,15);function k(g,_){const s=l("ExternalLinkIcon");return o(),r("div",null,[t,p,e("p",null,[m,e("a",u,[v,c(s)])]),b])}var f=a(d,[["render",k],["__file","m1\u82AF\u7247\u7535\u8111\u5B89\u88C5cerebro.html.vue"]]);export{f as default};
